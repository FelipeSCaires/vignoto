"use strict";function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var router,App=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"createRouter",value:function(){var t=this;router=new JetRouter({routes:_defineProperty({},global.root,function(e){t.page.load("".concat(global.root,"/"),e,function(){return new Index})}),notFound:function(e){t.page.load("".concat(global.root,"/pagina-nao-encontrada.php"),e)},onInit:function(){return t.popState()},onHash:function(e){var t=document.querySelector(e);t&&setTimeout(function(){t.scrollIntoView({behavior:"smooth"})},300)}})}},{key:"popState",value:function(){var e=this;window.addEventListener("popstate",function(){e.page.pop=!0,e.runRouter()})}},{key:"addRoutes",value:function(){var s=this;config.pages.forEach(function(o){var a=["".concat(global.root,"/").concat(o[0]),"".concat(global.root,"/").concat(o[0],"/*parameters")];a.forEach(function(n,i){router.add(n,function(e){var t=n;global.root&&(t=a[i].split(global.root)[1]),(a[i].includes("*")||a[i].includes(":"))&&(t=(t=t.split("/")).slice(0,t.length-1).join("/")),(t=t.replace(/\//g,"-")).startsWith("-")&&(t=t.substr(1)),s.page.load("".concat(global.root,"/").concat(t,".php"),e,function(){o[1]&&new Function("new ".concat(o[1]))()})})})})}},{key:"runRouter",value:function(){var e="".concat(location.pathname).concat(location.search);router.listen(e)}},{key:"init",value:function(){var e=this;window.onload=function(){e.page=new Page,new JetBrowser,e.createRouter(),e.addRoutes(),e.runRouter()}}}]),e}();new App;var Card=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"gallery",value:function(){var i=this;document.querySelectorAll(".card__gallery-slider").forEach(function(e){var t=e.classList[1].replace("card__gallery-slider--",""),n=document.querySelector(".card__gallery-number--".concat(t));i["".concat(t,"GallerySlider")]=new JetSlider({element:".card__gallery-slider--".concat(t),prev:".card__gallery-prev--".concat(t),next:".card__gallery-next--".concat(t),gap:10,loop:!0,onChange:function(e){n.innerHTML=e}})})}},{key:"galleryExpand",value:function(){var e,t,n=this;1080<window.innerWidth&&(e=document.querySelectorAll(".card__gallery-options-btn--expand, .card__gallery-close-btn"),t=document.querySelector("html"),e.forEach(function(e){e.addEventListener("click",function(){t.classList.toggle("expand"),n.resizeSliders()})}),window.addEventListener("resize",function(){window.innerWidth<1081&&(t.classList.remove("expand"),n.resizeSliders())}))}},{key:"resizeSliders",value:function(){var n=this;document.querySelectorAll(".card__gallery-slider").forEach(function(e){var t=e.classList[1].replace("card__gallery-slider--","");n["".concat(t,"GallerySlider")].resize()})}},{key:"galleryChange",value:function(){var n=this,i=document.querySelectorAll("button.card__gallery-change-btn"),o=document.querySelector(".card__gallery-container");i.forEach(function(e){var t=_toConsumableArray(e.classList).filter(function(e){return e.includes("card__gallery-change-btn--")})[0].replace("card__gallery-change-btn--","");e.addEventListener("click",function(){o.classList.contains(t)||(o.classList.remove(o.classList[1]),o.classList.add(t)),i.forEach(function(e){return e.classList.remove("card__gallery-change-btn--active")}),e.classList.add("card__gallery-change-btn--active"),"map"!==t||n.map||n.loadScript(["css/leaflet.min.css","js/leaflet.min.js"],n.createMap.bind(n))})})}},{key:"loadScript",value:function(e,t){var n=this,i=e.map(function(e){return n.createTag(e)});Promise.all(i).then(t)}},{key:"createTag",value:function(s){return new Promise(function(e){var t=s.split(".").pop(),n="js"===t?"script":"link",i="js"===t?"src":"href",o=document.createElement(n),a=document.querySelector("".concat(n,"[").concat(i,'="').concat(s,'"]'));a&&a.remove(),o[i]=s,"css"===t&&(o.rel="stylesheet"),document.body.appendChild(o),o.onload=function(){return e(s)}})}},{key:"createMap",value:function(){var e=document.querySelector("#map"),t=e.dataset.latitude,n=e.dataset.longitude;this.map=L.map("map").setView([t,n],15),L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(this.map);var i=L.icon({iconUrl:"svg/marker.svg",iconSize:[40,40],iconAnchor:[20,20]});L.marker([t,n],{icon:i}).addTo(this.map)}},{key:"similar",value:function(){return new JetSlider({element:".similar",prev:".similar__pagination-prev",next:".similar__pagination-next",slidesToShow:{0:1,568:2,821:3,1081:4},slidesToScroll:{0:1,568:2,821:3,1081:4},speed:650,gap:30,loop:!1,pagination:".similar__pagination"})}},{key:"init",value:function(){this.gallery(),this.galleryExpand(),this.galleryChange(),this.similar()}}]),e}(),Client=function(){function t(e){_classCallCheck(this,t),this.inputUser=document.querySelector(".client__id"),this.inputPassword=document.querySelector(".client__password"),this.sliderContainer=document.querySelector(".client__slider-container"),this.enterBtn=document.querySelector(".client__btn"),this.exitBtn=document.querySelector(".client__logout"),this.recoverPasswordBtn=document.querySelector(".client__recover-password"),this.inputCurrentPassword=document.querySelector(".client__current-password"),this.inputNewPassword=document.querySelector(".client__new-password"),this.inputConfirmPassword=document.querySelector(".client__confirm-password"),this.changePasswordBtn=document.querySelector(".client__btn-password"),this.welcome=document.querySelector(".client__welcome"),this.init(e)}return _createClass(t,[{key:"getUserSubmit",value:function(){var n=this,i=document.querySelector(".client__get-user");i&&i.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(i).get("user");n.getUser(t)})}},{key:"getUser",value:function(e){var t=this;return new JetLoader({url:"".concat(config.pcoBaseUrl,"api/usuarios/accounts?model.usuario=").concat(e),onSuccess:function(e){return t.user(e)},onError:function(){return t.loginError("Usuário inexistente")}})}},{key:"user",value:function(e){var t=document.querySelector(".client__user-box");for(var n in t.innerHTML="",e)t.insertAdjacentHTML("beforeend",'<button class="client__user-box-item" data-id="'.concat(e[n].ClienteReferencia,'">').concat(e[n].ClienteNome,"<br>").concat(e[n].ClienteEmail,"</button>"));this.sliderContainer.style.transform="translateX(-33.333333%)",this.setUserButton()}},{key:"setUserButton",value:function(){var i=this;document.querySelectorAll(".client__user-box-item").forEach(function(n){n.addEventListener("click",function(e){e.stopImmediatePropagation();var t=n.dataset.id;i.inputUser.value=t,i.sliderContainer.style.transform="translateX(-66.666666%)"})})}},{key:"loginButton",value:function(){var s=this;this.enterBtn&&this.enterBtn.addEventListener("click",function(){var e=s.inputUser.value,t=s.inputPassword.value,n=s.inputUser.checkValidity(),i=s.inputPassword.checkValidity(),o=document.querySelector(".client__login"),a=document.querySelector(".client__preloader");n&&i&&(s.loginAuth(e,t),o.classList.add("client__login--active"),a.classList.add("client__preloader--active"))})}},{key:"loginAuth",value:function(t,e){var n=this;return new JetLoader({url:"".concat(config.pcoBaseUrl,"token"),method:"post",header:{"content-type":"application/x-www-form-urlencoded"},body:"username=".concat(t,"&password=").concat(e,"&grant_type=password&empresa=").concat(config.idCliente),onSuccess:function(e){return n.login(t,e.access_token)},onError:function(){return n.loginError("Usuário ou senha incorreta")}})}},{key:"login",value:function(e,t){var n=this,i=new FormData;i.append("idcliente",config.idCliente),i.append("username",e),i.append("token",t),sessionStorage.setItem("token",t),new JetLoader({url:"".concat(global.base,"form/login.php"),method:"post",body:i,onSuccess:function(e){"pageProprietario"===e?router.listen(config.pageProprietario):"pageInquilino"===e?router.listen(config.pageInquilino):"pageProprietarioIr"===e?router.listen(config.pageProprietarioIr):"inquilinoIr"===e?router.listen(config.pageInquilinoIr):router.listen("".concat(config.pageAviso,"?msn=doc"))},onError:function(){return n.loginError("Usuário ou senha incorreta.")}})}},{key:"loginError",value:function(e){var t=document.querySelector(".client__login"),n=document.querySelector(".client__preloader"),i=document.querySelector(".client__preloader-icon"),o=document.querySelector(".client__preloader-text"),a=o.innerHTML;i.style.display="none",o.innerHTML=e,setTimeout(function(){t.classList.remove("client__login--active"),n.classList.remove("client__preloader--active"),i.style.display="flex",o.innerHTML=a},3e3)}},{key:"autoLogin",value:function(){var e=new URLSearchParams(window.location.search);e.get("id")&&(this.inputUser.value=e.get("id"),this.inputPassword.value=e.get("pwd"),this.loginAuth(e.get("id"),e.get("pwd")))}},{key:"logout",value:function(){this.exitBtn&&this.exitBtn.addEventListener("click",function(){var e=new FormData;e.append("idcliente",config.idCliente),new JetLoader({url:"".concat(global.base,"form/logout.php"),method:"post",body:e,onSuccess:function(){router.listen(config.pageSouCliente)}})})}},{key:"recoverPasswordButton",value:function(){var t=this;this.recoverPasswordBtn&&this.recoverPasswordBtn.addEventListener("click",function(){var e=t.inputUser.value;t.inputUser.checkValidity()&&t.recoverPassword(e)})}},{key:"recoverPassword",value:function(e){var t=this;return new JetLoader({url:"".concat(config.pcoBaseUrl,"api/usuarios/recuperarsenha?usuario=").concat(e,"&empresa=").concat(config.idCliente),method:"post",header:{authorization:"bearer ".concat(sessionStorage.getItem("token"))},onSuccess:function(e){return t.recoverPasswordSuccess(e)},onError:function(){return t.loginError()}})}},{key:"recoverPasswordSuccess",value:function(){this.loginError("Sua senha foi envida para seu email!"),router.listen(config.pageSouCliente)}},{key:"changePasswordButton",value:function(){var s=this;this.changePasswordBtn&&this.changePasswordBtn.addEventListener("click",function(){var e=s.inputCurrentPassword.value,t=s.inputNewPassword.value,n=s.inputConfirmPassword.value,i=s.inputCurrentPassword.checkValidity(),o=s.inputNewPassword.checkValidity(),a=s.inputCurrentPassword.checkValidity();i&&o&&a&&s.changePassword(e,t,n)})}},{key:"changePassword",value:function(e,t,n){var i=this;return new JetLoader({url:"".concat(config.pcoBaseUrl,"api/usuarios/trocarsenha?senha=").concat(e,"&senhaNova=").concat(t,"&confirmarSenha=").concat(n),method:"post",header:{authorization:"bearer ".concat(sessionStorage.getItem("token"))},onSuccess:function(e){return i.changePasswordSuccess(e)},onError:function(){return i.loginError()}})}},{key:"changePasswordSuccess",value:function(){router.listen(config.pageSouCliente)}},{key:"boletoBtns",value:function(){var i=this;document.querySelectorAll(".client__download").forEach(function(n){n.addEventListener("click",function(){var e=n.dataset.codigo,t=n.dataset.token;i.boleto(e,t)})})}},{key:"boleto",value:function(t,e){var n=this;return new JetLoader({url:"".concat(config.pcoBaseUrl,"api/prestacao-contas/inquilinos/boleto/").concat(t,"/pdf"),header:{authorization:"bearer ".concat(e)},onSuccess:function(e){return n.boletoSuccess(e,t)}})}},{key:"boletoSuccess",value:function(e,t){var n=new Blob([e],{type:"application/pdf"}),i=window.URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download="boleto-".concat(t,".pdf"),document.querySelector("body").appendChild(o),o.click(),window.URL.revokeObjectURL(i),o.remove()}},{key:"printButton",value:function(){var e=this,t=document.querySelector(".client__print");t&&t.addEventListener("click",function(){return e.print()})}},{key:"print",value:function(){var e=document.querySelector("#toPrint"),t=window.open("");setTimeout(function(){t.document.write('<style>body{font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif}</style>'),t.document.write(e.innerHTML),t.print(),t.close()},30)}},{key:"init",value:function(){this.autoLogin(),this.getUserSubmit(),this.loginButton(),this.logout(),this.recoverPasswordButton(),this.changePasswordButton(),this.boletoBtns(),this.printButton()}}]),t}(),Favorite=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"favorite",value:function(){var e=this;new JetFavorite({form:".favorite__form",pageLink:".favorite__link",favorite:".favorite__btn",deleteAll:".favorite__delete",counter:".favorite__counter",idType:"cliente",id:config.id,onInit:function(){},onLogin:function(){return e.login()},onNoLogin:function(){return e.noLogin()},onRemove:function(){return e.remove()},onRemoveAll:function(){return e.removeAll()}})}},{key:"login",value:function(){var e=document.querySelector(".favorite__form"),t=document.querySelector(".favorite__login-input"),n=document.querySelector(".favorite"),i=sessionStorage.getItem("favorite-user-".concat(config.id)),o="".concat(config.pageFavoritos,"?user=").concat(i),a=e.querySelector(".form__content"),s=e.querySelector(".form__success");a.classList.add("form__content--hidden"),s.classList.add("form__success--active"),setTimeout(function(){t.checked=!1,a.classList.remove("form__content--hidden"),s.classList.remove("form__success--active"),n&&router.listen(o)},3e3)}},{key:"noLogin",value:function(){document.querySelector(".favorite__login-input").checked=!0}},{key:"remove",value:function(){var e=document.querySelector(".favorite"),t="".concat(config.pageFavoritos).concat(window.location.search);e&&router.listen(t)}},{key:"removeAll",value:function(){var e=document.querySelector(".favorite__delete-input"),t="".concat(config.pageFavoritos).concat(window.location.search),n=document.querySelector(".favorite__delete-content"),i=document.querySelector(".favorite__delete-success");n.classList.add("form__content--hidden"),i.classList.add("form__success--active"),setTimeout(function(){e.checked=!1,router.listen(t),n.classList.remove("form__content--hidden"),i.classList.remove("form__success--active")},3e3)}},{key:"exit",value:function(){var e=document.querySelector(".favorite__exit");e&&e.addEventListener("click",this.exitHandler.bind(this))}},{key:"exitHandler",value:function(){sessionStorage.removeItem("favorite-token-".concat(config.id)),sessionStorage.removeItem("favorite-user-".concat(config.id)),router.listen(config.pageFavoritos)}},{key:"pagination",value:function(){var e=document.querySelector(".ui__pagination-box");e&&new JetPagination({container:".ui__pagination",previous:".ui__pagination-previous",next:".ui__pagination-next",active:e.dataset.page,total:e.dataset.total,left:{568:2,0:1},right:{568:2,0:1},concatenateWith:"/",onComplete:function(){return router.updateLinks()}})}},{key:"init",value:function(){this.favorite(),this.exit(),this.pagination()}}]),e}(),Filters=function(){function t(e){_classCallCheck(this,t),this.page=e}return _createClass(t,[{key:"filtersUrl",value:function(e){var t,n,i=sessionStorage.getItem("filtro.tipodivulgacao"),o=sessionStorage.getItem("filters-".concat(i));o?e(JSON.parse(o)):(n=config.filters.map(function(e){return e[1]?"":"".concat(e,"=true")}))[0]&&(n.push((_defineProperty(t={"filtro.tipodivulgacao":i},"filtro.".concat(config.tipoCliente,"id"),config.id),_defineProperty(t,"maximo",999999),_defineProperty(t,"pagina",1),t)),this.createUrl(i,n,e))}},{key:"dynamicFiltersUrl",value:function(o){var t,a=this,s=sessionStorage.getItem("filtro.tipodivulgacao"),e=sessionStorage.getItem("filters-".concat(s));e&&(t=JSON.parse(e),this.dynamicsFilters.forEach(function(e){return delete t[e]}),s?sessionStorage.setItem("filters-".concat(s),JSON.stringify(t)):sessionStorage.setItem("filters",JSON.stringify(t))),config.filters.forEach(function(e){var t,n,i;e[1]&&(n=[],_defineProperty(t={"filtro.tipodivulgacao":s},"filtro.".concat(config.tipoCliente,"id"),config.id),_defineProperty(t,"maximo",999999),_defineProperty(t,"pagina",1),i=t,e[1].forEach(function(e){i["filtro.".concat(e)]=sessionStorage.getItem("filtro.".concat(e))}),n.push("".concat(e[0],"=true"),i),a.createUrl(s,n,o,!0))})}},{key:"createUrl",value:function(t,e,n,i){var o=this;new JetSearch({baseUrl:"".concat(config.filterBaseUrl,"?"),parameters:e,joinWith:"=",concatenateWith:"&",onComplete:function(e){return o.loadFilters(t,e,n,i)}})}},{key:"loadFilters",value:function(n,e,i,o){var a=this;this.loader=new JetLoader({url:e,onSuccess:function(e){var t=n?sessionStorage.getItem("filters-".concat(n)):sessionStorage.getItem("filters");e=a.joinJson(e.data),o&&a.dynamicsFilters.push(Object.keys(e)[0]),t&&(e=Object.assign(JSON.parse(t),e)),n?sessionStorage.setItem("filters-".concat(n),JSON.stringify(e)):sessionStorage.setItem("filters",JSON.stringify(e)),Object.keys(e).length===config.filters.length&&i(e)}})}},{key:"joinJson",value:function(e){var t={};for(var n in e){var i,o=n.toLowerCase();e[n]&&e[n].resultado&&(i=this.combineJson(e[n].resultado),t[o]=i)}return t}},{key:"combineJson",value:function(e){var n={};return e.forEach(function(e){for(var t in e)n[t]||(n[t]=[]),n[t].push(e[t])}),n}},{key:"createFilters",value:function(e){var t=sessionStorage.getItem("filtro.tipodivulgacao"),n=JSON.parse(sessionStorage.getItem("filters-".concat(t)));this.dynamicsFilters=[],n&&Object.keys(n).length!==config.filters.length&&sessionStorage.removeItem("filters-".concat(t)),this.loader&&this.loader.abort(),this.filtersUrl(e),this.dynamicFiltersUrl(e)}},{key:"checkFilter",value:function(e){var t=sessionStorage.getItem(e);if(t)if("filtro.tipodivulgacao"===e)t="a"===t?"comprar alugar":"v"===t?"comprar":"l"===t?"alugar":"temporada";else if("filtro.vagagaragem"===e||"filtro.vagaini"===e)t-=2;else if("filtro.finalidade"===e)t="r"===t?"residenciais":"c"===t?"comerciais":"ambos";else if("filtro.mobiliado"===e)t=t&&"mobiliado";else if("filtro.condominio"===e){if(t)return"em condominio"}else"filtro.cobertura"===e&&t&&(t="cobertura");else t="";return t}},{key:"createPath",value:function(t){return new JetSearch({button:".search__btn",baseUrl:"".concat(this.page,"/"),concatenateWith:"-",parameters:[sessionStorage.getItem("filtro.tiposimoveis"),this.checkFilter("filtro.finalidade"),this.checkFilter("filtro.mobiliado"),this.checkFilter("filtro.condominio"),this.checkFilter("filtro.cobertura"),this.checkFilter("filtro.tipodivulgacao"),sessionStorage.getItem("filtro.cidade"),sessionStorage.getItem("filtro.bairro"),sessionStorage.getItem("filtro.estado"),[sessionStorage.getItem("filtro.quarto"),"quartos"],[sessionStorage.getItem("filtro.quartoini"),"ou mais quartos"],[sessionStorage.getItem("filtro.suite"),"suites"],[sessionStorage.getItem("filtro.suiteini"),"ou mais suites"],[sessionStorage.getItem("filtro.banheiro"),"banheiros"],[sessionStorage.getItem("filtro.banheiroini"),"ou mais banheiros"],[this.checkFilter("filtro.vagagaragem"),"vagas"],[this.checkFilter("filtro.vagaini"),"ou mais vagas"],["de",sessionStorage.getItem("filtro.valorminimo")],["ate",sessionStorage.getItem("filtro.valormaximo")],["de","".concat(sessionStorage.getItem("filtro.areautilminima"),"m2")],["ate","".concat(sessionStorage.getItem("filtro.areautilmaxima"),"m2")],["de","".concat(sessionStorage.getItem("filtro.areatotalminima"),"m2 total")],["ate","".concat(sessionStorage.getItem("filtro.areatotalmaxima"),"m2 total")]],query:{foto:sessionStorage.getItem("filtro.comfoto"),regiao:sessionStorage.getItem("filtro.regiaocidade"),cat:sessionStorage.getItem("filtro.categoriaid"),ord:this.checkFilter("ordenacao"),ascdesc:this.checkFilter("ascdesc")},alternative:{referencia:[["referencia",sessionStorage.getItem("filtro.referencia")]],edificio:[["edificio",sessionStorage.getItem("filtro.edificio")]],endereco:[["endereco",sessionStorage.getItem("filtro.endereco")]]},regex:[[/[`~!@#$%^&*()_|+\-=?;:'",<>\{\}\[\]\\\/]/gi," "],[/\s+/g,"-"],[/ç/g,"c"],[/[àáâãäå]/g,"a"],[/[èéêë]/g,"e"],[/[ìíîï]/g,"i"],[/[òóôõö]/g,"o"],[/[ùúûü]/g,"u"]],onComplete:function(e){t&&router.listen(e)}})}},{key:"search",value:function(){this.createPath(!0)}},{key:"addData",value:function(e){e.filter.remove(),e.filter.add(e),e.filter.update()}},{key:"removeStorage",value:function(){(new JetSearch).removeStorage("session","filtro","filtro.tipodivulgacao")}}]),t}(),Form=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"form",value:function(){var t=this;document.querySelectorAll("form[id]").forEach(function(e){t["inputsFile".concat(e.id)]=e.querySelectorAll('[type="file"]'),t["inputsRequired".concat(e.id)]=_toConsumableArray(t["inputsFile".concat(e.id)]).map(function(e){return e.required}),e.addEventListener("submit",t.submit.bind(t,e)),t.fileAttachment(e)})}},{key:"submit",value:function(e){var t=this;event.preventDefault(),this.inputFileManager(e);var n=e.id,i=new FormData(e),o=e.querySelector(".form__content"),a=e.querySelector(".form__sending");o.classList.add("form__content--hidden"),a.classList.add("form__sending--active"),this.updateFormData(e,i),new JetLoader({url:"".concat(global.base,"form/").concat(n,".php"),method:"post",body:i,onSuccess:function(){return t.submitSuccess(e)}})}},{key:"submitSuccess",value:function(e){var t=e.querySelector(".form__sending"),n=e.querySelector(".form__success");t.classList.remove("form__sending--active"),n.classList.add("form__success--active"),this.inputFileManager(e),this.successButton(e),this.resetInputFile(e),this.clearFileList(e),e.reset()}},{key:"successButton",value:function(e){e.querySelector(".form__success-btn").addEventListener("click",this.successButtonHandler.bind(this,e))}},{key:"successButtonHandler",value:function(e){var t=e.querySelector(".form__content"),n=e.querySelector(".form__sending"),i=e.querySelector(".form__success");t.classList.remove("form__content--hidden"),n.classList.remove("form__status--active"),i.classList.remove("form__success--active")}},{key:"inputFileManager",value:function(e){this["inputsFile".concat(e.id)].forEach(function(e){e.disabled=!e.disabled})}},{key:"fileAttachment",value:function(e){var i=this;this["inputsFile".concat(e.id)].forEach(function(e){var t=e.name,n=e.required;i["fileList".concat(t)]={},e.addEventListener("change",i.fileAttachmentHandler.bind(i,e,t,n))})}},{key:"fileAttachmentHandler",value:function(i,o,a){var s=this,c=i.nextElementSibling;_toConsumableArray(i.files).forEach(function(e){var t=e.name.replace(/[/[ .]/g,"-"),n=s.fileTemplate(e,t);s["fileList".concat(o)][t]=e,c.append(n),s.fileDelete(i,n,s["fileList".concat(o)],t,a)}),i.value="",this.checkDisabled(i,this["fileList".concat(o)],a)}},{key:"updateFormData",value:function(e,n){var i=this;this["inputsFile".concat(e.id)].forEach(function(e){var t=e.name;Object.values(i["fileList".concat(t)]).forEach(function(e){return n.append(t,e)})})}},{key:"fileTemplate",value:function(e,t){var n=document.createElement("li"),i=document.createElement("button"),o=document.createElement("div"),a=document.createElement("img");return n.className="form__input-file-item",i.className="form__input-file-btn",i.id=t,o.className="form__input-file-text",o.innerHTML=e.name,a.className="form__input-file-icon",a.src="svg/trash.svg",i.appendChild(o),i.appendChild(a),n.appendChild(i),n}},{key:"fileDelete",value:function(e,t,n,i,o){var a=t.querySelector("button");t.addEventListener("click",this.fileDeleteHandler.bind(this,e,a,n,i,o))}},{key:"fileDeleteHandler",value:function(e,t,n,i,o){delete n[i],t.parentElement.remove(),this.checkDisabled(e,n,o)}},{key:"resetInputFile",value:function(n){var i=this;this["inputsFile".concat(n.id)].forEach(function(e,t){i["inputsRequired".concat(n.id)][t]&&(e.required=!0)})}},{key:"clearFileList",value:function(e){this["inputsFile".concat(e.id)].forEach(function(e){e.nextElementSibling.innerHTML=""})}},{key:"checkDisabled",value:function(e,t,n){var i;n&&(i=Object.keys(t)[0],e.required=!i)}},{key:"init",value:function(){this.form()}}]),e}(),Index=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"init",value:function(){new Search}}]),e}(),JetBrowser=function(){function t(e){_classCallCheck(this,t),this.config=t.extend(e),this.userAgent=navigator.userAgent,this.vendor=navigator.vendor,this.browser,this.device,this.orientation,this.touch,this.eventTimeout,this.chrome,this.firefox,this.safari,this.opera,this.edge,this.ie,this.init(),this.config.onInit()}return _createClass(t,[{key:"browserName",value:function(){return this.isChrome(),this.isFirefox(),this.isSafari(),this.isOpera(),this.isEdge(),this.isIe(),this.browser}},{key:"deviceType",value:function(){return/Mobi|Android/i.test(this.userAgent)?this.device="mobile":this.device="desktop",this.device}},{key:"addClass",value:function(e){document.documentElement.classList.add("jetbrowser__".concat(e))}},{key:"removeClass",value:function(e){document.documentElement.classList.remove("jetbrowser__".concat(e))}},{key:"isChrome",value:function(){return/Chrome/.test(this.userAgent)&&/Google Inc/.test(this.vendor)&&(this.browser="chrome",this.chrome=!0),this.chrome}},{key:"isFirefox",value:function(){return"undefined"!=typeof InstallTrigger&&(this.browser="firefox",this.firefox=!0),this.firefox}},{key:"isSafari",value:function(){return!/constructor/i.test(window.HTMLElement)&&"[object SafariRemoteNotification]"!==(!window.safari||void 0!==this.safari&&this.safari.pushNotification).toString()||(this.browser="safari",this.safari=!0),this.safari}},{key:"isOpera",value:function(){return(window.opr&&opr.addons||window.opera||0<=this.userAgent.indexOf(" OPR/"))&&(this.browser="opera",this.opera=!0),this.opera}},{key:"isEdge",value:function(){return!this.isIe()&&window.StyleMedia&&(this.browser="edge",this.edge=!0),this.edge}},{key:"isIe",value:function(){return document.documentMode&&(this.browser="ie",this.ie=!0),this.ie}},{key:"getOrientation",value:function(){return window.innerHeight>window.innerWidth?(this.orientation="portrait",this.removeClass("landscape"),this.addClass("portrait")):(this.orientation="landscape",this.removeClass("portrait"),this.addClass("landscape")),this.orientation}},{key:"isTouch",value:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?(this.touch="touchevents",this.removeClass("no-touchevents"),this.addClass("touchevents")):(this.touch="no-touchevents",this.removeClass("touchevents"),this.addClass("no-touchevents")),this.touch}},{key:"resize",value:function(){var e=this;this.eventTimeout||(this.eventTimeout=setTimeout(function(){e.eventTimeout=null,e.getOrientation()},250))}},{key:"init",value:function(){window.onresize=this.resize.bind(this),this.browserName(),this.deviceType(),this.addClass(this.browser),this.addClass(this.device),this.getOrientation(),this.isTouch(),this.resize(),this.config.onDetect({browser:this.browser,device:this.device,orientation:this.orientation})}}],[{key:"extend",value:function(e){var t={onInit:function(){},onDetect:function(){}};for(var n in e)t[n]=e[n];return t}}]),t}(),JetCheckbox=function(){function t(e){_classCallCheck(this,t),this.config=t.extend(e),this.elements="string"==typeof this.config.element?document.querySelectorAll(this.config.element):[this.config.element],this.names="string"==typeof this.config.name?[this.config.name]:this.config.name,this.optionsText=this.config.optionsText,this.optionsValue=this.config.optionsValue,this.optionsCounter=this.config.counter,this.activeClass="jetcheckbox__item--active",this.valueObject={},this.labelObject={},this.sortMap={},this.baseName,this.titles,this.storage,this.init(),this.config.onInit()}return _createClass(t,[{key:"arrayLowerCase",value:function(t){t.forEach(function(n,e){Array.isArray(n)?n.forEach(function(e,t){isNaN(e)&&(n[t]=e.toLowerCase())}):isNaN(n)&&(t[e]=n.toLowerCase())})}},{key:"setBaseName",value:function(t){var n=this,i=t.getAttribute("class"),o="string"==typeof this.config.element?this.config.element.split(","):(o=this.config.element.className).split(" ");o.forEach(function(e){e="string"==typeof n.config.element?e.trim().substr(1):o[0],-1<i.indexOf(e)&&(t.dataset.jetcheckboxName=e)}),this.baseName=t.dataset.jetcheckboxName}},{key:"storageType",value:function(){"local"===this.config.storage?this.storage=localStorage:this.storage=sessionStorage}},{key:"storageCheck",value:function(){var n=this;this.names.forEach(function(t){var e;n.storage.getItem(t)&&(e=n.storage.getItem(t).split(","),n.valueObject[t]||(n.valueObject[t]=[]),e.forEach(function(e){e=e.toString().toLowerCase(),n.valueObject[t].push(e)}))})}},{key:"update",value:function(){var t=this;this.storageCheck(),this.names.forEach(function(e){t.storage.getItem(e)||(t.valueObject[e]||(t.valueObject[e]=[]),t.valueObject[e].push(""))}),this.elements.forEach(function(e){t.updateCheckbox(e),t.config.tags&&t.updateTags(e)})}},{key:"updateTags",value:function(e){var s=this,c=document.createDocumentFragment(),r=this.config.tagsTarget?document.querySelectorAll(this.config.tagsTarget):e.querySelectorAll(".jetcheckbox__label");r.forEach(function(a){for(var e in s.labelObject)s.labelObject[e].forEach(function(e){var t,n='[data-jetcheckbox-id="'.concat(s.config.name,'"][data-jetcheckbox-label="').concat(e,'"]'),i=a.querySelector(n),o=document.querySelector(".".concat(s.baseName,'-item[data-jetcheckbox-text="').concat(e,'"]')).dataset.jetcheckboxValue.split(",");s.config.tagsTarget||(r[0].innerHTML=""),i||(t=s.createTag(e,o),c.appendChild(t))});a.appendChild(c)})}},{key:"addTags",value:function(a,s){var e,c=this,r=document.createDocumentFragment();this.config.tagsTarget?e=document.querySelectorAll(this.config.tagsTarget):(e=a.querySelectorAll(".jetcheckbox__label"))[0].querySelector(".jetcheckbox__tag")||(e[0].innerHTML=""),e.forEach(function(e){var t,n='[data-jetcheckbox-id="'.concat(c.config.name,'"][data-jetcheckbox-label="').concat(s,'"]'),i=e.querySelector(n),o=a.querySelector('[data-jetcheckbox-text="'.concat(s,'"]')).dataset.jetcheckboxValue.split(",");i||(t=c.createTag(s,o),r.appendChild(t),e.appendChild(r))})}},{key:"removeTags",value:function(e,n){var i=this;(this.config.tagsTarget?document.querySelectorAll(this.config.tagsTarget):e.querySelectorAll(".jetcheckbox__label")).forEach(function(e){var t=e.querySelector('[data-jetcheckbox-id="'.concat(i.config.name,'"][data-jetcheckbox-label="').concat(n,'"]'));t&&t.parentNode.removeChild(t),i.config.tagsTarget||e.querySelector(".jetcheckbox__tag")||(e.innerHTML=i.config.label)})}},{key:"createTag",value:function(e,t){var n=this,i=document.createElement("span"),o=document.createElement("span"),a=document.createElement("span");return this.config.name.constructor!==Array&&(t=t.toString()),i.addEventListener("click",function(){n.clickTag(t)}),a.className="".concat(this.baseName,"-delete-btn jetcheckbox__delete-btn"),o.className="".concat(this.baseName,"-tag-text jetcheckbox__tag-text"),i.className="".concat(this.baseName,"-tag jetcheckbox__tag"),i.dataset.jetcheckboxId=this.config.name,i.dataset.jetcheckboxLabel=e,o.innerHTML=e,i.appendChild(o),i.appendChild(a),i}},{key:"setLabel",value:function(e){var i=this,t=e.querySelectorAll(".".concat(this.activeClass)),n=e.querySelector(".jetcheckbox__label"),o=[],a=this.config.name;this.labelObject[a]||(this.labelObject[a]=[]),t.forEach(function(e){var t=e.dataset.jetcheckboxText,n=i.labelObject[a].indexOf(t);o.push(t),-1===n&&i.labelObject[a].push(t)}),this.config.label&&(o[0]?n.innerHTML=o.join(", "):n.innerHTML=this.config.label)}},{key:"updateCheckbox",value:function(e){var n=this,i=this.names.map(function(e){return""}),t=Object.entries(this.valueObject),o={};for(var a in t.forEach(function(e){var t=n.names.indexOf(e[0]);i[t]=e}),i.forEach(function(e,t){e[1].forEach(function(e,t){o[t]||(o[t]=[]),o[t].push(e)})}),o){var s=o[a],c=e.querySelector('[data-jetcheckbox-value="'.concat(s,'"]:not(.jetcheckbox__item--uncheck-all)'));c&&(c.classList.add(this.activeClass),c.classList.add("".concat(this.baseName,"-item--active")))}this.setLabel(e)}},{key:"createCheckbox",value:function(e,t){var n=document.createDocumentFragment(),i=document.createElement("ul"),o=document.createElement("div"),a=document.createElement("span"),s=document.createElement("span");o.className="".concat(this.baseName,"-btn jetcheckbox__btn"),a.className="".concat(this.baseName,"-label jetcheckbox__label"),a.innerHTML=this.config.label,s.className="".concat(this.baseName,"-icon jetcheckbox__icon"),i.className="".concat(this.baseName,"-list jetcheckbox__list"),this.createList({element:e,list:i,text:this.optionsText,value:this.optionsValue,counter:this.optionsCounter,addIndex:0,index:t}),o.appendChild(a),o.appendChild(s),n.appendChild(o),n.appendChild(i),this.optionsText.toString()||e.classList.add("jetcheckbox--disabled"),e.classList.add("jetcheckbox"),e.appendChild(n),this.createTotal(e)}},{key:"createList",value:function(n){var i=this;this.config.filter&&this.createSearchInput(n.element,n.list,n.index),this.config.uncheckAll&&this.createCheck({element:n.element,list:n.list,itemClass:" jetcheckbox__option--uncheck-all",btnClass:" jetcheckbox__item--uncheck-all",text:this.config.uncheckAll,value:"",addIndex:n.addIndex,index:n.index}),this.config.checkAll&&this.createCheck({element:n.element,list:n.list,itemClass:" jetcheckbox__option--check-all",btnClass:" jetcheckbox__item--check-all",text:this.config.checkAll,value:"*",addIndex:n.addIndex,index:n.index}),n.text.forEach(function(e,t){i.config.sortTitle&&i.createTitle({list:n.list,text:i.sortMap[t]}),i.createCheck({element:n.element,list:n.list,itemClass:"",btnClass:"",text:e,value:i.optionsValue[t],counter:i.optionsCounter,optionIndex:t,addIndex:n.addIndex,index:n.index})})}},{key:"createTitle",value:function(e){var t,n,i,o;-1===this.titles.indexOf(e.text)&&(t=document.createElement("ul"),n=document.createElement("div"),i=document.createElement("span"),o=document.createElement("span"),this.titles.push(e.text),t.className="".concat(this.baseName,"-group jetcheckbox__group"),n.className="".concat(this.baseName,"-title jetcheckbox__title"),i.className="".concat(this.baseName,"-name jetcheckbox__name"),o.className="".concat(this.baseName,"-total jetcheckbox__total"),t.dataset.jetcheckboxTitle=e.text,i.innerHTML=e.text,n.appendChild(i),n.appendChild(o),t.appendChild(n),e.list.appendChild(t))}},{key:"createTotal",value:function(e){var o=this;this.config.sortTitle&&this.config.sortTotal&&e.querySelectorAll(".jetcheckbox__group").forEach(function(e){var t=e.querySelector(".jetcheckbox__total"),n=e.querySelectorAll("li"),i=0;n.forEach(function(e){var t;i=o.optionsCounter&&o.optionsCounter.length?(t=e.querySelector(".jetcheckbox__counter"),Number(t.innerHTML)):n.length}),t.innerHTML=i})}},{key:"createCheck",value:function(e){var t=this,n=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),a=e.list.querySelector('[jetcheckbox-title="'+this.sortMap[e.optionIndex]+'"]');n.className="".concat(this.baseName,"-option jetcheckbox__option").concat(e.itemClass),i.className="".concat(this.baseName,"-item jetcheckbox__item").concat(e.btnClass),o.className="".concat(this.baseName,"-text jetcheckbox__text"),i.dataset.jetcheckboxText=e.text,i.dataset.jetcheckboxValue=e.value,o.innerHTML=e.text,i.appendChild(o),n.appendChild(i),a?(a.appendChild(n),this.addAtIndex(a,n,e.addIndex)):(e.list.appendChild(n),this.addAtIndex(e.list,n,e.addIndex));var s,c=document.createElement("span");c.className="".concat(this.baseName,"-checkbox jetcheckbox__checkbox"),i.insertBefore(c,o),e.counter&&e.counter.length&&((s=document.createElement("span")).className="".concat(this.baseName,"-counter jetcheckbox__counter"),s.innerHTML=e.counter[e.optionIndex],i.appendChild(s)),i.addEventListener("click",function(){t.clickEvent(e.value)})}},{key:"addAtIndex",value:function(e,t,n){var i=e.children.length;(n=n||i)>=e.children.length?e.appendChild(t):e.insertBefore(t,e.children[n])}},{key:"add",value:function(i){var o=this;this.optionsText=i.text,this.optionsValue=i.value,this.optionsCounter=i.counter,i.sort&&(this.titles=[],this.sort(i.sort)),this.elements.forEach(function(e,t){var n=e.querySelector("ul");o.optionsText.toString()?e.classList.remove("jetcheckbox--disabled"):e.classList.add("jetcheckbox--disabled"),o.createList({element:e,list:n,text:o.optionsText,value:o.arrayLowerCase(o.optionsValue),counter:o.optionsCounter,addIndex:i.addIndex,index:t}),o.createTotal(e)})}},{key:"remove",value:function(t){var s=this;this.elements.forEach(function(e){var a=e.querySelector("ul");t?t.forEach(function(e){var t=a.querySelector('[data-jetcheckbox-text="'.concat(e,'"]')),n=t.dataset.jetcheckboxValue,i=s.optionsText.indexOf(e),o=s.optionsValue.indexOf(n);-1!==i&&(s.optionsText.splice(i,1),s.optionsValue.splice(o,1),t.parentNode.removeChild(t))}):(e.classList.add("jetcheckbox--disabled"),s.valueObject={},s.labelObject={},s.sortMap={},s.optionsText=[],s.optionsValue=[],a.innerHTML="")})}},{key:"createSearchInput",value:function(e,t,n){var i=this,o=document.createElement("div"),a=document.createElement("input");o.className="".concat(this.baseName,"-filter jetcheckbox__filter"),a.className="".concat(this.baseName,"-input jetcheckbox__input"),a.type=this.config.filterType,this.config.filterPlaceholder&&(a.placeholder=this.config.filterPlaceholder),a.addEventListener("focus",this.config.focus),a.addEventListener("blur",this.config.blur),a.addEventListener("keyup",function(e){i.keyUp(n,e)}),this.config.filterTarget&&(t=document.querySelector(this.config.filterTarget)),o.appendChild(a),this.config.filterEmpty&&o.appendChild(this.emptyBtn(a,n)),t.appendChild(o)}},{key:"emptyBtn",value:function(t,n){var i=this,e=document.createElement("a");return e.className="".concat(this.baseName,"-empty-btn jetcheckbox__empty-btn"),e.addEventListener("click",function(e){t.value="",i.manageEmptyBtn("",n),i.manageFilter("",n),i.notFound(n),i.config.onKeyUp()}),e}},{key:"manageEmptyBtn",value:function(e,t){var n=this.elements[t].querySelector(".jetcheckbox__empty-btn");n&&(n.style.display=e?"block":"none")}},{key:"setStorage",value:function(i){var o,a=this;this.valueObject={},this.storageCheck(),this.names.forEach(function(e,t){a.valueObject[e]||(a.valueObject[e]=[]),o=a.config.name.constructor===Array?i[t]:i;var n=a.valueObject[e].indexOf(o);-1===n?a.config.checkLimit&&a.config.checkLimit<=a.valueObject[e].length?a.config.onLimit():a.valueObject[e].push(o):a.valueObject[e].splice(n,1),a.valueObject[e][0]?a.storage.setItem(e,a.valueObject[e]):a.storage.removeItem(e)})}},{key:"removeStorage",value:function(){var t=this;this.names.forEach(function(e){t.valueObject[e]=[],t.storage.removeItem(e)})}},{key:"validateNumber",value:function(e){var t=this.storage.getItem(this.config.validateTarget),n="<"===this.config.validateOperator&&e<t,i=">"===this.config.validateOperator&&t<e;if(null===t||n||i)return!0}},{key:"clickEvent",value:function(e){!e||this.validateNumber(e)?(this.selectOption(e),e&&"*"!==e&&this.setStorage(e),e||this.config.onUncheckAll(),"*"===e&&this.config.onCheckAll(),e&&this.config.onChange(this.valueObject)):this.config.onValidateError()}},{key:"checkAll",value:function(o,a){var s=this,e=this.config.tags&&this.config.tagsTarget;this.optionsValue.forEach(function(e,t){var n,i;(!s.config.checkLimit||t<s.config.checkLimit)&&(i=(n=o.querySelector('[data-jetcheckbox-value="'.concat(e,'"]'))).dataset.jetcheckboxText,n.classList.contains(s.activeClass)&&option.selected||(n.classList.add(s.activeClass),n.classList.add("".concat(s.baseName,"-item--active")),s.config.tags&&s.addTags(o,i,a),0===a&&s.setStorage(e)))}),!this.config.label||this.config.tags&&!e||this.setLabel(o)}},{key:"uncheckAll",value:function(i){var o=this,e=this.config.tags&&this.config.tagsTarget;this.optionsValue.forEach(function(e){var t,n=i.querySelector('[data-jetcheckbox-value="'.concat(e,'"]'));n&&(t=n.dataset.jetcheckboxText,n.classList.remove(o.activeClass),n.classList.remove("".concat(o.baseName,"-item--active")),o.config.tags&&o.removeTags(i,t))}),this.removeStorage(),!this.config.label||this.config.tags&&!e||this.setLabel(i)}},{key:"sort",value:function(e){var t=this;this.sortMap=e.map(function(e,t){return{index:t,value:e}}),this.sortMap.sort(function(e,t){return isNaN(e.value)&&isNaN(t.value)?+(e.value>t.value)||(e.value===t.value)-1:e.value-t.value}),this.optionsText=this.sortMap.map(function(e){return t.optionsText[e.index]}),this.optionsValue=this.sortMap.map(function(e){return t.optionsValue[e.index]}),this.optionsCounter&&this.optionsCounter.length&&(this.optionsCounter=this.sortMap.map(function(e){return t.optionsCounter[e.index]})),this.sortMap=this.sortMap.map(function(e){return e[Object.keys(e)[1]]}),"descending"===this.config.sortOrder&&(this.optionsText.reverse(),this.optionsValue.reverse(),this.optionsCounter.reverse(),this.sortMap.reverse())}},{key:"filter",value:function(e,t){for(var n,i,o=t.split(" "),a=0;i=o[a++];){if(!(n=new RegExp(i,"ig")).test(e))return!1;e=e.replace(n,"")}return!0}},{key:"manageFilter",value:function(s,c){var r=this,e=this.elements[c].querySelectorAll("li:not(.jetcheckbox__option--uncheck-all):not(.jetcheckbox__option--check-all)"),l="jetcheckbox__option--hidden";e.forEach(function(e,t){var n,i,o,a=r.elements[c].querySelector('[data-jetcheckbox-title="'.concat(r.sortMap[t],'"]'));a&&(n=a.querySelectorAll("li")),s?(i=e.querySelector("label").innerHTML,r.filter(i,s)?(e.classList.remove(l),a&&n[0]&&a.classList.remove(l)):(e.classList.add(l),a&&(o=a.querySelectorAll("li.".concat(l)),n.length===o.length&&a.classList.add(l)))):(e.classList.remove(l),a&&a.classList.remove(l))})}},{key:"selectOption",value:function(r){var l=this;this.elements.forEach(function(e,t){var n=e.querySelector('[data-jetcheckbox-value="'.concat(r,'"]')),i=n.dataset.jetcheckboxText,o=n.classList.contains(l.activeClass),a=l.config.tags&&l.config.tagsTarget,s=l.valueObject[Object.keys(l.valueObject)[0]],c=s?s.length:1;r?"*"===r&&l.checkAll(e,t):l.uncheckAll(e),r&&"*"!==r&&(o?(n.classList.remove(l.activeClass),n.classList.remove("".concat(l.baseName,"-item--active")),l.config.tags&&l.removeTags(e,i)):(!l.config.checkLimit||c<l.config.checkLimit)&&(n.classList.add(l.activeClass),n.classList.add("".concat(l.baseName,"-item--active")),l.config.tags&&l.config.tagsOnChange&&l.addTags(e,i))),!l.config.label||l.config.tags&&!a||l.setLabel(e)})}},{key:"clickTag",value:function(a){var i,s=this;this.valueObject={},this.storageCheck(),this.names.forEach(function(e,t){s.valueObject[e]||(s.valueObject[e]=[]),i=s.config.name.constructor===Array?a[t]:a;var n=s.valueObject[e].indexOf(i);-1!==n&&s.valueObject[e].splice(n,1),s.storage.setItem(e,s.valueObject[e]),s.storage.getItem(e)||s.storage.removeItem(e)}),this.elements.forEach(function(e,t){var n=e.querySelector('[data-jetcheckbox-value="'.concat(a,'"]')),i=n.dataset.jetcheckboxText,o=s.config.tags&&s.config.tagsTarget;n.classList.remove(s.activeClass),n.classList.remove("".concat(s.baseName,"-item--active")),s.removeTags(e,i),s.config.tags&&!o||s.setLabel(e)}),this.config.onClickTag(a)}},{key:"keyUp",value:function(e,t){var n=t.target.value;this.manageFilter(n,e),this.manageEmptyBtn(n,e),this.notFound(e),this.config.onKeyUp()}},{key:"notFound",value:function(e){var t,n,i=this.elements[e].querySelector("ul"),o="jetcheckbox__option--hidden",a=i.querySelectorAll("li.".concat(o,":not(.jetcheckbox__option--uncheck-all):not(.jetcheckbox__option--check-all)")),s=i.querySelector(".jetcheckbox__option--uncheck-all"),c=i.querySelector(".jetcheckbox__option--check-all"),r=i.querySelector(".jetcheckbox__not-found");a.length>=this.optionsText.length?(s&&s.classList.add(o),c&&c.classList.add(o),!r&&this.config.filterNotFound&&(t=document.createElement("div"),n=document.createTextNode(this.config.filterNotFound),t.className="jetcheckbox__not-found",t.appendChild(n),i.appendChild(t))):(s&&s.classList.remove(o),c&&c.classList.remove(o),r&&r.parentNode.removeChild(r))}},{key:"destroy",value:function(){this.elements.forEach(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)})}},{key:"init",value:function(){var n=this;this.storageType(),this.config.sortBy[0]&&this.sort(this.config.sortBy),this.arrayLowerCase(this.optionsValue),this.elements.forEach(function(e,t){e.classList.remove("jetcheckbox"),e.innerHTML="",n.titles=[],n.setBaseName(e),n.createCheckbox(e,t)}),this.names.some(function(e){return n.storage.getItem(e)})&&this.update()}}],[{key:"extend",value:function(e){var t={element:"",name:"",checkLimit:"",optionsText:[],optionsValue:[],counter:[],uncheckAll:"",checkAll:"",label:"",sortBy:[],sortOrder:"ascending",sortTitle:!1,sortTotal:!1,tags:!1,tagsOnChange:!0,tagsTarget:"",filter:!1,filterEmpty:!0,filterTarget:"",filterPlaceholder:"",filterNotFound:"",filterType:"text",validateOperator:"",validateTarget:"",storage:"session",onInit:function(){},onChange:function(){},onUncheckAll:function(){},onCheckAll:function(){},onKeyUp:function(){},onKeyDown:function(){},onKeyEnter:function(){},onFocus:function(){},onBlur:function(){},onClickTag:function(){},onValidateError:function(){},onLimit:function(){}};for(var n in e)t[n]=e[n];return t}}]),t}(),JetFavorite=function(){function t(e){_classCallCheck(this,t),this.config=t.extend(e),this.idParameter="cliente"===this.config.idType?"filtro.clienteid=":"filtro.parceriaid=",this.baseUrl=this.config.favoriteApi,this.baseUrlLogin=this.config.loginApi,this.baseUrlSearch="".concat(this.baseUrl,"/pesquisar?").concat(this.idParameter).concat(this.config.id,"&pagina=1&maximo=999999"),this.baseUrlDeleteAll="".concat(this.baseUrl,"/excluirtodos/").concat(this.config.id),this.activeClass="".concat(this.config.favorite.substr(1),"--checked"),this.tokenStorage="favorite-token-".concat(this.config.id),this.userStorage="favorite-user-".concat(this.config.id),this.total=0,this.config.onInit(),this.init()}return _createClass(t,[{key:"loginSubmit",value:function(){var i=this;("string"==typeof this.config.form?document.querySelectorAll(this.config.form):this.config.form).forEach(function(n){n.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(n);t.get("nome")||t.append("nome",""),t.get("sobrenome")||t.append("sobrenome",""),t.get("telefone")||t.append("telefone",""),t.append("keySecret",i.config.key),"cliente"===i.config.idType?(t.append("clienteId",i.config.id),t.append("parceriaId","")):(t.append("clienteId",""),t.append("parceriaId",i.config.id)),t.append("moduloId",1),i.login(t)})})}},{key:"login",value:function(e){var t=this;fetch(this.baseUrlLogin,{method:"POST",headers:{"Content-Type":"application/json"},body:'{"email":"'.concat(e.get("email"),'","firstName":"').concat(e.get("nome"),'","lastName":"').concat(e.get("sobrenome"),'","telephone":"').concat(e.get("telefone"),'","keySecret":"').concat(this.config.key,'","clienteId":"').concat(e.clienteId,'","parceriaId":"').concat(e.parceriaId,'","moduloId":"1"}')}).then(function(e){if(!e.ok)throw t.config.onError("login"),new Error("JetFavorite: An error has occured trying to return the favorites login request 😭: ".concat(e.status));return e.json()}).then(function(e){sessionStorage.setItem(t.tokenStorage,e.data.accessToken),sessionStorage.setItem(t.userStorage,e.data.userToken.email),t.get(),t.config.onLogin()}).catch(function(e){return console.log(e)})}},{key:"get",value:function(){var t=this;sessionStorage.getItem(this.tokenStorage)&&fetch("".concat(this.baseUrlSearch,"&filtro.email=").concat(sessionStorage.getItem(this.userStorage)),{headers:{authorization:"bearer ".concat(sessionStorage.getItem(this.tokenStorage))}}).then(function(e){if(!e.ok)throw t.config.onError("get"),new Error("JetFavorite: An error has occured trying to return the favorites search request 😭: ".concat(e.status));return e.json()}).then(function(e){return t.update(e)}).catch(function(e){return console.log(e)})}},{key:"update",value:function(e){if(sessionStorage.getItem(this.tokenStorage)){this.total=e.data.total;var t=[],n=[],i=!0,o=!1,a=void 0;try{for(var s,c=e.data.resultado[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var r=s.value,l=r.imovelVenda&&r.imovelLocacao?"a":r.imovelVenda&&!r.imovelLocacao?"v":r.imovelLocacao&&!r.imovelVenda?"l":"t";t.push("".concat(r.clienteId,",").concat(r.imovelId,",").concat(l)),n.push(r.imovelFavoritoId)}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}this.checkButton(t,n),this.counter(e.data.total),this.action(),this.pageLink(),this.config.onChange(e)}}},{key:"action",value:function(){var e;this.actionElement&&((e=JSON.parse(this.actionElement.dataset.jetfavorite))?this.actionElement.classList.contains(this.activeClass)?this.delete(e):this.actionElement.classList.contains(this.activeClass)||this.add(e):this.deleteAll(),this.actionElement=null)}},{key:"checkButton",value:function(o,a){var s=this;("string"==typeof this.config.favorite?document.querySelectorAll(this.config.favorite):this.config.favorite).forEach(function(e){var t=JSON.parse(e.dataset.jetfavorite),n="".concat(t.clienteId,",").concat(t.imovelId,",").concat(t.imovelPara),i=o.indexOf(n);-1<i?(t.favoritoId=a[i],e.dataset.jetfavorite=JSON.stringify(t),e.classList.add(s.activeClass)):e.classList.contains(s.activeClass)&&(delete t.favoritoId,e.dataset.jetfavorite=JSON.stringify(t),e.classList.remove(s.activeClass))})}},{key:"counter",value:function(t){("string"==typeof this.config.counter?document.querySelectorAll(this.config.counter):this.config.counter).forEach(function(e){e.innerHTML=t})}},{key:"add",value:function(e){var t=this;sessionStorage.getItem(this.tokenStorage)?fetch(this.baseUrl,{method:"POST",headers:{Authorization:"bearer ".concat(sessionStorage.getItem(this.tokenStorage)),"Content-Type":"application/json"},body:'{"clienteId":"'.concat(e.clienteId,'","imovelId":').concat(e.imovelId,',"imovelPara":"').concat(e.imovelPara,'"}')}).then(function(e){if(!e.ok)throw t.config.onError("add"),new Error("JetFavorite: An error has occured trying to return the favorites add request 😭: ".concat(e.status));return e.json()}).then(function(e){t.get(),t.config.onAdd()}).catch(function(e){return console.log(e)}):this.config.onNoLogin()}},{key:"delete",value:function(e){var t=this;sessionStorage.getItem(this.tokenStorage)?fetch("".concat(this.baseUrl,"/").concat(e.favoritoId),{method:"DELETE",headers:{authorization:"bearer ".concat(sessionStorage.getItem(this.tokenStorage))}}).then(function(e){if(!e.ok)throw t.config.onError("delete"),new Error("JetFavorite: An error has occured trying to return the favorites delete request 😭: ".concat(e.status));return e.json()}).then(function(e){t.get(),t.config.onRemove()}).catch(function(e){return console.log(e)}):this.config.onNoLogin()}},{key:"favoriteButtonEvent",value:function(){var t=this;("string"==typeof this.config.favorite?document.querySelectorAll(this.config.favorite):this.config.favorite).forEach(function(e){e.addEventListener("click",t.favoriteButton.bind(t,e))})}},{key:"favoriteButton",value:function(e){event.stopImmediatePropagation();var t=JSON.parse(e.dataset.jetfavorite);sessionStorage.getItem(this.tokenStorage)?e.classList.contains(this.activeClass)?this.delete(t):this.add(t):(this.actionElement=e,this.config.onNoLogin()),this.config.onClick(e,this.total)}},{key:"deleteAll",value:function(){var t=this;sessionStorage.getItem(this.tokenStorage)?fetch(this.baseUrlDeleteAll,{method:"DELETE",headers:{authorization:"bearer ".concat(sessionStorage.getItem(this.tokenStorage))}}).then(function(e){if(!e.ok)throw t.config.onError("deleteAll"),new Error("JetFavorite: An error has occured trying to return the favorites delete all request 😭: ".concat(e.status));return e.json()}).then(function(e){t.get(),t.config.onRemoveAll()}).catch(function(e){return console.log(e)}):this.config.onNoLogin()}},{key:"deleteAllEvent",value:function(){var n=this;("string"==typeof this.config.deleteAll?document.querySelectorAll(this.config.deleteAll):this.config.deleteAll).forEach(function(t){t.addEventListener("click",function(e){e.stopImmediatePropagation(),sessionStorage.getItem(n.tokenStorage)||(n.actionElement=t),n.deleteAll()})})}},{key:"pageLink",value:function(){var e,n;this.config.pageLink&&(e=document.querySelectorAll(this.config.pageLink),n=sessionStorage.getItem(this.userStorage),e.forEach(function(e){var t;n&&!e.href.includes("user=")&&(t=e.href.replace(/^.*\/\/[^\/]+/,""),t="".concat(t,"?user=").concat(n),e.href=t)}))}},{key:"init",value:function(){this.loginSubmit(),this.favoriteButtonEvent(),this.deleteAllEvent(),this.get()}}],[{key:"extend",value:function(e){var t={form:"",pageLink:"",favorite:"",deleteAll:"",counter:"",loginApi:"https://casasoftautorizacao.azurewebsites.net/api/v1/Account/external/login/portal",favoriteApi:"https://portalapi.casasoftsig.com/api/v3/imoveisfavoritos",key:"1add169cbb1244d1aaadad282dc16425",idType:"cliente",id:"",onInit:function(){},onLogin:function(){},onNoLogin:function(){},onClick:function(){},onChange:function(){},onAdd:function(){},onRemove:function(){},onRemoveAll:function(){},onError:function(){}};for(var n in e)t[n]=e[n];return t}}]),t}(),JetInput=function(){function t(e){_classCallCheck(this,t),this.config=t.extend(e),this.elements=document.querySelectorAll(this.config.element),this.names="string"==typeof this.config.name?[this.config.name]:this.config.name,this.optionsText=this.config.optionsText,this.optionsValue=this.config.optionsValue,this.optionsCounter=this.config.counter,this.activeClass="jetinput__item--active",this.valueObject={},this.labelObject={},this.sortMap={},this.selectedOptions=[],this.tabIndex=null,this.baseName,this.titles,this.storage,this.init(),this.config.onInit()}return _createClass(t,[{key:"arrayLowerCase",value:function(t){t.forEach(function(n,e){Array.isArray(n)?n.forEach(function(e,t){isNaN(e)&&(n[t]=e.toLowerCase())}):isNaN(n)&&(t[e]=n.toLowerCase())})}},{key:"setBaseName",value:function(t){var n=t.getAttribute("class");this.config.element.split(",").forEach(function(e){e=e.trim().substr(1),-1<n.indexOf(e)&&(t.dataset.jetinputName=e)}),this.baseName=t.dataset.jetinputName}},{key:"storageType",value:function(){"local"===this.config.storage?this.storage=localStorage:this.storage=sessionStorage}},{key:"storageCheck",value:function(){var n=this;this.names.forEach(function(t){var e;n.storage.getItem(t)&&(e=n.storage.getItem(t).split(","),n.valueObject[t]||(n.valueObject[t]=[]),e.forEach(function(e){e=e.toString().toLowerCase(),n.valueObject[t].push(e)}))})}},{key:"update",value:function(){var n=this;this.storageCheck(),this.elements.forEach(function(e,t){n.updateSelect(e),n.config.tags&&n.updateTags(e,t)})}},{key:"updateTags",value:function(e,s){var c=this,r=document.createDocumentFragment(),l=this.config.tagsTarget?document.querySelectorAll(this.config.tagsTarget):e.querySelectorAll(".jetinput");l.forEach(function(a){for(var e in c.labelObject)console.log(c.labelObject),c.labelObject[e].forEach(function(e){var t,n,i='[data-jetinput-id="'.concat(c.config.name,'"][data-jetinput-label="').concat(e,'"]'),o=a.querySelector(i);t=c.config.autocomplete?document.querySelector(".".concat(c.baseName,'-item[data-jetinput-text="').concat(e,'"]')).dataset.jetinputValue.split(","):e,c.config.tagsTarget||(l[0].innerHTML=""),o||(n=c.createTag(e,t,s),r.appendChild(n))});a.appendChild(r)})}},{key:"addTags",value:function(a,s,c){var e,r=this,l=document.createDocumentFragment();this.config.tagsTarget?e=document.querySelectorAll(this.config.tagsTarget):(e=a.querySelectorAll(".jetinput"))[0].querySelector(".jetinput__tag")||(e[0].innerHTML=""),e.forEach(function(e){var t,n='[data-jetinput-id="'.concat(r.config.name,'"][data-jetinput-label="').concat(s,'"]'),i=e.querySelector(n),o=a.querySelector('[data-jetinput-text="'.concat(s,'"]')).dataset.jetinputValue.split(",");i||(t=r.createTag(s,o,c),l.appendChild(t),e.appendChild(l))})}},{key:"removeTags",value:function(e,n){var i=this;(this.config.tagsTarget?document.querySelectorAll(this.config.tagsTarget):e.querySelectorAll(".jetinput")).forEach(function(e){var t=e.querySelector('[data-jetinput-label="'.concat(n,'"]'));t&&t.parentNode.removeChild(t),i.config.tagsTarget||e.querySelector(".jetinput__tag")||(e.innerHTML=i.config.label)})}},{key:"createTag",value:function(e,t,n){var i=this,o=document.createElement("span"),a=document.createElement("span"),s=document.createElement("span");return"multiple"===this.config.type?this.config.name.constructor!==Array&&(t=t.toString()):t="",o.addEventListener("click",function(){i.config.filter&&i.config.autocomplete&&i.manageFilter("",n),i.clickEvent(t,n),i.config.onClickTag(t)}),s.className="".concat(this.baseName,"-delete-btn jetinput__delete-btn"),a.className="".concat(this.baseName,"-tag-text jetinput__tag-text"),o.className="".concat(this.baseName,"-tag jetinput__tag"),o.dataset.jetinputId=this.config.name,o.dataset.jetinputLabel=e,a.innerHTML=e,o.appendChild(a),o.appendChild(s),o}},{key:"setLabel",value:function(e){var i=this,t=e.querySelectorAll(".".concat(this.activeClass)),n=e.querySelector("input"),o=this.config.name,a=[];this.labelObject[o]||(this.labelObject[o]=[]),this.config.autocomplete?t.forEach(function(e){var t=e.dataset.jetinputText,n=i.labelObject[o].indexOf(t);a.push(t),-1===n&&i.labelObject[o].push(t)}):this.labelObject[o].push(this.storage.getItem(o)),a[0]?n.innerHTML=a.join(", "):n.innerHTML=""}},{key:"updateSelect",value:function(e){var n={};for(var t in this.valueObject)this.valueObject[t].forEach(function(e,t){n[t]||(n[t]=[]),n[t].push(e)});for(var i in n){var o=n[i],a=e.querySelector('[data-jetinput-value="'.concat(o,'"]'));a&&(a.classList.add(this.activeClass),a.classList.add("".concat(this.baseName,"-item--active")))}this.setLabel(e)}},{key:"createSelect",value:function(e,t){var n=this,i=document.createDocumentFragment(),o=document.createElement("ul");o.className="".concat(this.baseName,"-list jetinput__list"),this.createList({element:e,list:o,text:this.optionsText,value:this.optionsValue,counter:this.optionsCounter,addIndex:0,index:t}),window.addEventListener("click",function(e){n.clickInside(t,e)}),i.appendChild(o),e.appendChild(i),this.createTotal(e)}},{key:"createList",value:function(n){var i=this,e=n.element.querySelector(".jetinput__option--deselect-all"),t=n.element.querySelector(".jetinput__option--deselect-all");!e&&this.config.deselectAll&&this.createOption({element:n.element,list:n.list,itemClass:" jetinput__option--deselect-all",btnClass:" jetinput__item--deselect-all",text:this.config.deselectAll,value:"",addIndex:n.addIndex,index:n.index}),!t&&this.config.selectAll&&"multiple"===this.config.type&&this.createOption({element:n.element,list:n.list,itemClass:" jetinput__option--select-all",btnClass:" jetinput__item--select-all",text:this.config.selectAll,value:"*",addIndex:n.addIndex,index:n.index}),n.text.forEach(function(e,t){i.config.sortTitle&&i.createTitle({list:n.list,text:i.sortMap[t]}),i.createOption({element:n.element,list:n.list,itemClass:"",btnClass:"",text:e,value:i.optionsValue[t],counter:i.optionsCounter,optionIndex:t,addIndex:n.addIndex,index:n.index})})}},{key:"createTitle",value:function(e){var t,n,i,o;-1===this.titles.indexOf(e.text)&&(t=document.createElement("ul"),n=document.createElement("div"),i=document.createElement("span"),o=document.createElement("span"),this.titles.push(e.text),t.className="".concat(this.baseName,"-group jetinput__group"),n.className="".concat(this.baseName,"-title jetinput__title"),i.className="".concat(this.baseName,"-name jetinput__name"),o.className="".concat(this.baseName,"-total jetinput__total"),t.dataset.jetinputTitle=e.text,i.innerHTML=e.text,n.appendChild(i),n.appendChild(o),t.appendChild(n),e.list.appendChild(t))}},{key:"createTotal",value:function(e){var o=this;this.config.sortTitle&&this.config.sortTotal&&e.querySelectorAll(".jetinput__group").forEach(function(e){var t=e.querySelector(".jetinput__total"),n=e.querySelectorAll("li"),i=0;n.forEach(function(e){var t;i=o.optionsCounter&&o.optionsCounter.length?(t=e.querySelector(".jetinput__counter"),Number(t.innerHTML)):n.length}),t.innerHTML=i})}},{key:"createOption",value:function(n){var e,t,i=this,o=document.createElement("li"),a=document.createElement("a"),s=document.createElement("span"),c=n.list.querySelector('[data-jetinput-title="'.concat(this.sortMap[n.optionIndex],'"]'));o.className="".concat(this.baseName,"-option jetinput__option").concat(n.itemClass),a.className="".concat(this.baseName,"-item jetinput__item").concat(n.btnClass),s.className="".concat(this.baseName,"-text jetinput__text"),a.dataset.jetinputText=n.text,a.dataset.jetinputValue=n.value,s.innerHTML=n.text,a.appendChild(s),o.appendChild(a),c?(c.appendChild(o),this.addAtIndex(c,o,n.addIndex)):(n.list.appendChild(o),this.addAtIndex(n.list,o,n.addIndex)),"multiple"===this.config.type&&((e=document.createElement("span")).className="".concat(this.baseName,"-checkbox jetinput__checkbox"),a.insertBefore(e,s)),n.counter&&n.counter.length&&n.counter[n.optionIndex]&&((t=document.createElement("span")).className="".concat(this.baseName,"-counter jetinput__counter"),t.innerHTML=n.counter[n.optionIndex],a.appendChild(t)),a.addEventListener("click",function(){i.clickEvent(n.value,n.index)}),a.addEventListener("mouseover",function(e){var t=n.list.querySelector(".jetinput__item--focused");i.tabIndex=n.optionIndex,t&&i.removeFocus(t),i.addFocus(e.target.parentElement)})}},{key:"addAtIndex",value:function(e,t,n){var i=e.children.length;(n=n||i)>=e.children.length?e.appendChild(t):e.insertBefore(t,e.children[n])}},{key:"add",value:function(o){var a=this;this.optionsText=o.text,this.optionsValue=o.value,this.optionsCounter=o.counter,this.tabIndex=null,this.arrayLowerCase(this.optionsValue),o.sort&&(this.titles=[],this.sort(o.sort)),this.elements.forEach(function(e,t){var n=e.querySelector("input"),i=e.querySelector("ul");a.optionsText.toString()?e.classList.remove("jetinput--disabled"):e.classList.add("jetinput--disabled"),a.createList({element:e,list:i,text:a.optionsText,value:a.optionsValue,counter:a.optionsCounter,addIndex:o.addIndex,index:t}),a.createTotal(e),n===document.activeElement&&a.open(t)})}},{key:"remove",value:function(t){var s=this;this.elements.forEach(function(e){var a=e.querySelector("ul");t?t.forEach(function(e){var t=a.querySelector('[data-jetinput-text="'.concat(e,'"]')),n=t.dataset.jetinputValue,i=s.optionsText.indexOf(e),o=s.optionsValue.indexOf(n);-1!==i&&(s.optionsText.splice(i,1),s.optionsValue.splice(o,1),t.parentNode.removeChild(t))}):(s.valueObject={},s.labelObject={},s.sortMap={},s.optionsText=[],s.optionsValue=[],a&&(a.innerHTML=""))})}},{key:"sum",value:function(){var o,a=this.config.min,s=this.config.max,c=this.config.step;this.elements.forEach(function(e,t){var n=e.querySelector("input"),i=e.querySelector(".jetinput__empty-btn");o=parseInt(n.value,10),o=isNaN(o)?a:o,isNaN(s)?o++:(o=Number(o)+Number(c),s<=o&&(o=s)),i&&(i.style.display="block"),n.value=o}),this.removeStorage(),this.setStorage(o),this.config.onChange(o),this.config.update&&this.update()}},{key:"reduce",value:function(){var o,a=this.config.min,s=this.config.step;this.elements.forEach(function(e,t){var n=e.querySelector("input"),i=e.querySelector(".jetinput__empty-btn");o=parseInt(n.value,10),o=isNaN(o)?a:o,isNaN(a)?o--:(o=Number(o)-Number(s))<=a&&(o=a),i&&(i.style.display="block"),n.value=o}),this.removeStorage(),this.setStorage(o),this.config.onChange(o),this.config.update&&this.update()}},{key:"createSearchInput",value:function(e,t){var n=this,i=document.createDocumentFragment(),o=document.createElement("div"),a=document.createElement("input");o.className="".concat(this.baseName,"-filter jetinput__filter"),a.className="".concat(this.baseName,"-input jetinput__input"),a.placeholder=this.config.placeholder,a.type=this.config.inputType,""!==this.config.value&&(a.value=this.config.value),isNaN(this.config.min)||(a.min=this.config.min),isNaN(this.config.max)||(a.max=this.config.max),isNaN(this.config.maxlength)||(a.maxLength=this.config.maxlength),isNaN(this.config.step)||(a.step=this.config.step),a.addEventListener("paste",function(e){n.paste(t,e)}),a.addEventListener("focus",function(){n.focus(t)}),a.addEventListener("blur",function(){n.config.onBlur()}),a.addEventListener("keyup",function(e){n.keyUp(t,e)}),a.addEventListener("keydown",function(e){n.keyDown(t,e)}),o.appendChild(a),this.config.empty&&o.appendChild(this.emptyBtn(a,t)),i.appendChild(o),this.config.reduceButton&&i.appendChild(this.reduceBtn()),this.config.sumButton&&i.appendChild(this.sumBtn()),e.appendChild(i),e.classList.add("jetinput")}},{key:"empty",value:function(){var n=this;this.elements.forEach(function(e,t){e.querySelector("input").value="",n.config.autocomplete&&(n.close(t),n.config.filter?n.manageFilter("",t):n.remove()),n.config.empty&&n.manageEmptyBtn("",t),n.config.storeOnKeyUp&&n.removeStorage()}),this.config.onEmpty()}},{key:"emptyBtn",value:function(){var e=document.createElement("a");return e.className="".concat(this.baseName,"-empty-btn jetinput__empty-btn"),e.addEventListener("click",this.empty.bind(this)),e}},{key:"manageEmptyBtn",value:function(e,t){var n=this.elements[t].querySelector(".jetinput__empty-btn");n&&(n.style.display=e?"block":"none")}},{key:"sumBtn",value:function(){var e=document.createElement("div");return e.className="".concat(this.baseName,"-sum-btn jetinput__sum-btn"),this.config.sumButtonLabel&&(e.innerText=this.config.sumButtonLabel),e.addEventListener("click",this.sum.bind(this)),e}},{key:"reduceBtn",value:function(){var e=document.createElement("div");return e.className="".concat(this.baseName,"-reduce-btn jetinput__reduce-btn"),this.config.reduceButtonLabel&&(e.innerText=this.config.reduceButtonLabel),e.addEventListener("click",this.reduce.bind(this)),e}},{key:"clickInside",value:function(e,t){var n=this.elements[e].contains(t.target);this.elements[e].classList.contains("jetinput--opened")&&!n&&this.config.closeOnBlur&&this.close(e)}},{key:"open",value:function(e){var t=this.elements[e].querySelector("ul");this.elements[e].classList.add("jetinput--opened"),t.classList.add("jetinput__list--opened"),this.config.onOpen()}},{key:"close",value:function(e){var t,n;this.config.autocomplete&&((n=(t=this.elements[e].querySelector("ul")).querySelector(".jetinput__item--focused"))&&(this.removeFocus(n),this.tabIndex=null),this.elements[e].classList.remove("jetinput--opened"),t.classList.remove("jetinput__list--opened"),t.classList.remove("jetinput__list--opened-top")),this.config.onClose()}},{key:"setStorage",value:function(i){var o,a=this;this.valueObject={},this.storageCheck(),this.names.forEach(function(e,t){a.valueObject[e]||(a.valueObject[e]=[]),o=a.config.name.constructor===Array?i[t]:i;var n=a.valueObject[e].indexOf(o);-1===n?a.config.selectionLimit&&a.config.selectionLimit<=a.valueObject[e].length?a.config.onLimit():a.valueObject[e].push(o):a.valueObject[e].splice(n,1),a.valueObject[e][0]?a.storage.setItem(e,a.valueObject[e]):a.storage.removeItem(e)})}},{key:"removeStorage",value:function(){var t=this;this.names.forEach(function(e){t.valueObject[e]=[],t.storage.removeItem(e)})}},{key:"validateNumber",value:function(e){var t=this.storage.getItem(this.config.validateTarget),n="<"===this.config.validateOperator&&e<t,i=">"===this.config.validateOperator&&t<e;if(null===t||n||i)return!0}},{key:"clickEvent",value:function(e,t){var n;!e||this.validateNumber(e)?(n=this.elements[t].querySelector("input"),this.selectOption(e),e&&"*"!==e&&this.setStorage(e),"multiple"===this.config.type&&e&&"*"!==e||this.close(t),this.config.empty&&this.manageEmptyBtn(n.value,t),e||this.config.onDeselectAll(),"*"===e&&this.config.onSelectAll(),this.config.onChange(this.valueObject)):this.config.onValidateError()}},{key:"checkAll",value:function(o,a){var s=this,e=this.config.tags&&this.config.tagsTarget;this.optionsValue.forEach(function(e,t){var n,i;(!s.config.selectionLimit||t<s.config.selectionLimit)&&(i=(n=o.querySelector('[data-jetinput-value="'.concat(e,'"]'))).dataset.jetinputText,n.classList.contains(s.activeClass)&&option.selected||(n.classList.add(s.activeClass),n.classList.add("".concat(s.baseName,"-item--active")),s.config.tags&&s.addTags(o,i,a),0===a&&s.setStorage(e)))}),this.config.tags&&!e||this.setLabel(o)}},{key:"uncheckAll",value:function(i){var o=this,e=this.config.tags&&this.config.tagsTarget;this.optionsValue.forEach(function(e){var t,n=i.querySelector('[data-jetinput-value="'.concat(e,'"]'));n&&(t=n.dataset.jetinputText,n.classList.remove(o.activeClass),n.classList.remove("".concat(o.baseName,"-item--active")),o.config.tags&&o.removeTags(i,t))}),this.removeStorage(),this.config.tags&&!e||this.setLabel(i)}},{key:"sort",value:function(e){var t=this;this.sortMap=e.map(function(e,t){return{index:t,value:e}}),this.sortMap.sort(function(e,t){return isNaN(e.value)&&isNaN(t.value)?+(e.value>t.value)||(e.value===t.value)-1:e.value-t.value}),this.optionsText=this.sortMap.map(function(e){return t.optionsText[e.index]}),this.optionsValue=this.sortMap.map(function(e){return t.optionsValue[e.index]}),this.optionsCounter&&this.optionsCounter.length&&(this.optionsCounter=this.sortMap.map(function(e){return t.optionsCounter[e.index]})),this.sortMap=this.sortMap.map(function(e){return e[Object.keys(e)[1]]}),"descending"===this.config.sortOrder&&(this.optionsText.reverse(),this.optionsValue.reverse(),this.optionsCounter.reverse(),this.sortMap.reverse())}},{key:"filter",value:function(e,t){for(var n,i,o=t.split(" "),a=0;i=o[a++];){if(!(n=new RegExp(i,"ig")).test(e))return!1;e=e.replace(n,"")}return!0}},{key:"manageFilter",value:function(s,c){var r=this,e=this.elements[c].querySelectorAll("li:not(.jetinput__option--deselect-all):not(.jetinput__option--select-all)"),l="jetinput__option--hidden";e.forEach(function(e,t){var n,i,o,a=r.elements[c].querySelector('[data-jetinput-title="'.concat(r.sortMap[t],'"]'));a&&(n=a.querySelectorAll("li")),s?(i=e.querySelector("a").innerHTML,r.filter(i,s)?(e.classList.remove(l),a&&n[0]&&a.classList.remove(l)):(e.classList.add(l),a&&(o=a.querySelectorAll("li.".concat(l)),n.length===o.length&&a.classList.add(l)))):(e.classList.remove(l),a&&a.classList.remove(l))})}},{key:"selectOption",value:function(r){var l=this;this.elements.forEach(function(e,t){var n,i,o;r&&(i=(n=e.querySelector('[data-jetinput-value="'.concat(r,'"]'))).dataset.jetinputText,o=n.classList.contains(l.activeClass)&&"multiple"===l.config.type);var a=l.config.tags&&l.config.tagsTarget,s=l.valueObject[Object.keys(l.valueObject)[0]],c=s?s.length:1;"multiple"===l.config.type&&r?"*"===r&&l.checkAll(e,t):l.uncheckAll(e),r&&"*"!==r&&(o?(n.classList.remove(l.activeClass),n.classList.remove("".concat(l.baseName,"-item--active")),l.config.tags&&l.removeTags(e,i)):(!l.config.selectionLimit||c<l.config.selectionLimit)&&(n.classList.add(l.activeClass),n.classList.add("".concat(l.baseName,"-item--active")),l.config.tags&&l.config.tagsOnChange&&l.addTags(e,i,t))),l.config.tags&&!a||l.setLabel(e)})}},{key:"paste",value:function(e,t){var n=this;setTimeout(function(){var e=t.target.value;n.setStorage(e),n.config.onPaste()})}},{key:"focus",value:function(e){this.config.autocomplete&&this.optionsText[0]&&this.open(e),this.config.onFocus()}},{key:"keyUp",value:function(e,t){var n=this.elements[e].querySelector("input"),i=t.target.value;38!==t.keyCode&&40!==t.keyCode&&13!==t.keyCode&&17!==t.keyCode&&(this.manageEmptyBtn(i,e),this.removeStorage()),(8===t.keyCode||32===t.keyCode||46===t.keyCode||48<=t.keyCode&&t.keyCode<=57||65<=t.keyCode&&t.keyCode<=90||96<=t.keyCode&&t.keyCode<=105||187<=t.keyCode&&t.keyCode<=190||229===t.keyCode)&&(!this.config.pattern||this.config.pattern&&this.pattern(i,this.config.pattern)?(i&&this.config.storeOnKeyUp&&(this.setStorage(i),this.config.onChange(i)),this.config.filter&&this.config.autocomplete&&this.manageFilter(i,e),this.config.onKeyUp(i)):n.value=this.removeLastDigit(i))}},{key:"keyDown",value:function(e,t){var n,i,o,a=t.target.value;this.config.autocomplete&&(i=(n=this.elements[e].querySelector("ul")).offsetHeight,o=n.querySelectorAll("li"),38===t.keyCode&&(t.preventDefault(),this.keyUpList(o,n,i)),40===t.keyCode&&(t.preventDefault(),this.keyDownList(o,n,i))),13===t.keyCode&&(this.config.autocomplete?this.keyEnterList(o):this.keyEnterList()),this.config.onKeyDown(a)}},{key:"keyUpList",value:function(e,t){this.removeFocus(e[this.tabIndex]),0<this.tabIndex?this.tabIndex--:this.tabIndex=e.length-1,this.addFocus(e[this.tabIndex]),this.scrollUp(e,t)}},{key:"keyDownList",value:function(e,t,n){this.removeFocus(e[this.tabIndex]),null===this.tabIndex||this.tabIndex===e.length-1?this.tabIndex=0:this.tabIndex++,this.addFocus(e[this.tabIndex]),this.scrollDown(e,t,n)}},{key:"keyEnterList",value:function(e){this.tabIndex&&e[this.tabIndex].querySelector("a").click(),this.config.onKeyEnter()}},{key:"scrollUp",value:function(e,t){var n=e[this.tabIndex].offsetTop;t.scrollTop>=n?t.scrollTop=n:this.tabIndex===e.length-1&&(t.scrollTop=t.scrollHeight)}},{key:"scrollDown",value:function(e,t,n){var i=e[this.tabIndex].offsetTop,o=i-n+e[this.tabIndex].offsetHeight;t.scrollTop<=o?t.scrollTop=o:i<t.scrollTop?t.scrollTop=i:0===this.selectedOptions&&(t.scrollTop=0)}},{key:"addFocus",value:function(e){e.classList.add("".concat(this.baseName,"-item--focused")),e.classList.add("jetinput__item--focused")}},{key:"removeFocus",value:function(e){e&&(e.classList.remove("".concat(this.baseName,"-item--focused")),e.classList.remove("jetinput__item--focused"))}},{key:"pattern",value:function(e,t){return t.test(e)}},{key:"removeLastDigit",value:function(e){return e.substr(0,e.length-1)}},{key:"notFound",value:function(e){var t,n,i=this.elements[e].querySelector("ul"),o="jetinput__option--hidden",a=i.querySelectorAll("li.".concat(o,":not(.jetinput__option--deselect-all):not(.jetinput__option--select-all)")),s=i.querySelector(".jetinput__option--deselect-all"),c=i.querySelector(".jetinput__option--select-all"),r=i.querySelector(".jetinput__not-found");a.length>=this.optionsText.length?(s&&s.classList.add(o),c&&c.classList.add(o),!r&&this.config.filterNotFound&&(t=document.createElement("div"),n=document.createTextNode(this.config.filterNotFound),t.className="jetinput__not-found",t.appendChild(n),i.appendChild(t))):(s&&s.classList.remove(o),c&&c.classList.remove(o),r&&r.parentNode.removeChild(r),this.open(e))}},{key:"destroy",value:function(){this.elements.forEach(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)})}},{key:"init",value:function(){var n=this;this.storageType(),this.config.sortBy[0]&&this.sort(this.config.sortBy),this.arrayLowerCase(this.optionsValue),this.elements.forEach(function(e,t){e.classList.remove("jetinput"),e.classList.remove("jetinput--opened"),e.tabIndex="0",e.innerHTML="",n.titles=[],n.setBaseName(e),n.createSearchInput(e,t),n.config.autocomplete&&n.createSelect(e,t)}),this.storage.getItem(this.names[0])&&this.update()}}],[{key:"extend",value:function(e){var t={element:"",name:"",type:"",autocomplete:!1,selectionLimit:"",optionsText:[],optionsValue:[],counter:[],deselectAll:"",selectAll:"",inputType:"text",placeholder:"Digite para filtrar",value:"",update:!1,empty:!0,min:0,max:Number,maxlength:Number,step:1,pattern:"",closeOnBlur:!0,sortBy:[],sortOrder:"ascending",sortTitle:!1,sortTotal:!1,tags:!1,tagsOnChange:!0,tagsTarget:"",filter:!1,sumButton:!1,sumButtonLabel:"",reduceButton:!1,reduceButtonLabel:"",validateOperator:"",validateTarget:"",storeOnKeyUp:!0,storage:"session",onInit:function(){},onOpen:function(){},onClose:function(){},onChange:function(){},onDeselectAll:function(){},onSelectAll:function(){},onKeyUp:function(){},onKeyDown:function(){},onKeyEnter:function(){},onFocus:function(){},onBlur:function(){},onPaste:function(){},onClickTag:function(){},onEmpty:function(){},onValidateError:function(){},onLimit:function(){}};for(var n in e)t[n]=e[n];return t}}]),t}(),JetLoader=function(){function t(e){_classCallCheck(this,t),this.config=t.extend(e),this.controller=new AbortController,this.signal=this.controller.signal,this.init()}return _createClass(t,[{key:"load",value:function(e){var t=this,n=this.controller.signal;fetch(e,{method:this.config.method,referrer:this.config.referrer,redirect:this.config.redirect,headers:new Headers(this.config.header),mode:this.config.mode,credentials:this.config.credentials,integrity:this.config.integrity,cache:this.config.cache,body:this.config.body,signal:n}).then(this.handleErrors.bind(this)).catch(function(e){return t.config.onError(e.status)})}},{key:"handleErrors",value:function(e){return e.ok?this.getResponse(e):Promise.reject(e)}},{key:"getResponse",value:function(e){var t=e.headers.get("content-type");if(t.includes("application/json"))this.getJson(e);else if(t.includes("text/html"))this.getText(e);else{if(!t.includes("application/octet-stream")&&!t.includes("application/pdf"))throw new Error("JetLoader Error 😭 - Sorry, content-type ".concat(t," not supported"));this.getBlob(e)}}},{key:"getJson",value:function(t){var n=this;return t.json().then(function(e){t.ok&&n.config.onSuccess(e)})}},{key:"getText",value:function(t){var n=this;return t.text().then(function(e){t.ok&&n.config.onSuccess(e)})}},{key:"getBlob",value:function(t){var n=this;return t.blob().then(function(e){t.ok&&n.config.onSuccess(e)})}},{key:"abort",value:function(){this.controller.abort(),this.config.onAbort()}},{key:"init",value:function(){this.config.onInit(),this.load(this.config.url)}}],[{key:"extend",value:function(e){var t={url:"",method:void 0,referrer:void 0,mode:void 0,redirect:void 0,credentials:void 0,integrity:void 0,header:{},cache:void 0,body:void 0,onInit:function(){},onProgress:function(){},onSuccess:function(){},onError:function(){},onAbort:function(){}};for(var n in e)t[n]=e[n];return t}}]),t}(),JetPagination=function(){function t(e){_classCallCheck(this,t),this.config=t.extend(e),this.container=this.config.container?"string"==typeof this.config.container?document.querySelector(this.config.container):this.config.container:"",this.previous=this.config.previous?"string"==typeof this.config.previous?document.querySelector(this.config.previous):this.config.previous:"",this.next=this.config.next?"string"==typeof this.config.next?document.querySelector(this.config.next):this.config.next:"",this.first=this.config.first?"string"==typeof this.config.first?document.querySelector(this.config.first):this.config.first:"",this.last=this.config.last?"string"==typeof this.config.last?document.querySelector(this.config.last):this.config.last:"",this.active=this.config.active?Number(this.config.active):1,this.total=Number(this.config.total),this.baseClass="jetpagination__",this.itemClass="".concat(this.baseClass,"item"),this.buttonClass="".concat(this.baseClass,"btn"),this.init(),this.config.onInit()}return _createClass(t,[{key:"createPagesArray",value:function(r,l){var u=this;return this.range(l).reduce(function(e,t){var n,i=t+1,o=i<=u.start,a=i>=r-u.left&&i<=r+u.right,s=i>=l-u.end+1,c=e[e.length-1]!==u.gap;return r<=u.left+1?a=1<=i&&i<=1+u.left+u.right:r>=l-u.right&&(a=i>=l-(u.left+u.right)&&i<=l),n=o||a||s?i:c?u.gap:[],e.concat(n)},[])}},{key:"range",value:function(e){return Array.apply(null,Array(e)).map(function(e,t){return t})}},{key:"createElement",value:function(e,t,n,i){var o=document.createElement(e);return o.className=n,i&&(o.innerHTML=i),t.appendChild(o),o}},{key:"createPages",value:function(t){var n,i,o=this,e=this.createPagesArray(this.active,this.total),a=this.config.container.slice(1),s="".concat(a,"-item"),c="".concat(a,"-btn");t.innerHTML="",e.forEach(function(e){e!==o.gap?(i=o.createElement("li",t,"".concat(o.itemClass," ").concat(s)),n=o.createElement("a",i,"".concat(o.buttonClass," ").concat(c),e),e===o.active?(i.classList.add("".concat(o.itemClass,"--active"),"".concat(s,"--active")),n.classList.add("".concat(o.buttonClass,"--active"),"".concat(c,"--active"))):o.config.link?o.setLink(n,e):n.addEventListener("click",o.gotoPage.bind(o,e))):i=o.createElement("li",t,"".concat(o.baseClass,"gap ").concat(a,"-gap"),o.gap)}),this.config.onComplete()}},{key:"gotoPage",value:function(e){this.active=Number(e),this.container&&this.checkBreakpoints(),this.checkButton(),this.config.onChange(e)}},{key:"prevPage",value:function(e){this.active--,this.config.link?this.setLink(e,this.active):this.gotoPage(this.active)}},{key:"nextPage",value:function(e){this.active++,this.config.link?this.setLink(e,this.active+1):this.gotoPage(this.active)}},{key:"firstPage",value:function(e){this.config.link?this.setLink(e,1):(this.active=1,this.gotoPage(this.active))}},{key:"lastPage",value:function(e){this.config.link?this.setLink(e,this.total):(this.active=this.total,this.gotoPage(this.active))}},{key:"cleanBaseUrl",value:function(){var e,t,n,i,o=this.config.parameter,a=this.config.concatenateWith,s=this.config.baseUrl;return s.includes(o)&&(e=s.split("".concat(a).concat(o))[0],s=s.includes("?")?(n=(t=s.split("?"))[0],i=t[1],"query"===this.config.parameterType?i.includes(a)?e:n:"".concat(e,"?").concat(i)):e),s}},{key:"setLink",value:function(e,t){var n,i,o,a=this.cleanBaseUrl();1<t?(n="".concat(this.config.parameter).concat(this.config.joinWith).concat(t),i="".concat(this.config.concatenateWith).concat(n),a.includes("?")?"query"===this.config.parameterType?e.href="".concat(a).concat(i):(o=a.split("?"),e.href="".concat(o[0]).concat(i,"?").concat(o[1])):"query"===this.config.parameterType?e.href="".concat(a,"?").concat(n):e.href="".concat(a).concat(i)):e.href=a,this.config.linkTarget&&(e.target=this.config.linkTarget)}},{key:"buttonEvents",value:function(){var n=this,e=[this.previous,this.next,this.first,this.last],i=[this.prevPage,this.nextPage,this.firstPage,this.lastPage];e.forEach(function(e,t){e&&(n.config.link?i[t].call(n,e):e.addEventListener("click",i[t].bind(n)))})}},{key:"buttonState",value:function(e,t,n,i){var o,a;t&&(o="".concat(this.baseClass).concat(i,"--disabled"),a="".concat(n.slice(1),"--disabled"),e?t.classList.remove(o,a):(t.classList.add(o,a),this.config.link&&t.removeAttribute("href")))}},{key:"checkButton",value:function(){var e=1!==this.active,t=1!==this.active,n=this.active!==this.total,i=this.active!==this.total;this.buttonState(e,this.first,this.config.first,"first"),this.buttonState(t,this.previous,this.config.previous,"previous"),this.buttonState(n,this.next,this.config.next,"next"),this.buttonState(i,this.last,this.config.last,"last")}},{key:"checkBreakpoints",value:function(){var n=this;this.start=this.config.start,this.left=this.config.left,this.right=this.config.right,this.end=this.config.end,this.gap=this.config.gap;var e=[this.start,this.end,this.left,this.right,this.gap],i=window.innerWidth;e.forEach(function(e){for(var t in e)i>=Number(t)&&(e===n.config.start?n.start=n.config.start[t]:e===n.config.end?n.end=n.config.end[t]:e===n.config.left?n.left=n.config.left[t]:e===n.config.right?n.right=n.config.right[t]:"object"==_typeof(n.config.gap)&&(n.gap=n.config.gap[t]))}),this.createPages(this.container)}},{key:"addClasses",value:function(){var n=this,e=[this.container,this.previous,this.next,this.first,this.last],i=["list","previous","next","first","last"];e.forEach(function(e,t){e&&e.classList.add("".concat(n.baseClass).concat(i[t]))})}},{key:"destroy",value:function(){var e=[this.previous,this.next,this.first,this.last];this.container.innerHTML="",e.forEach(function(e){var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)})}},{key:"init",value:function(){this.container&&(window.addEventListener("resize",this.checkBreakpoints.bind(this)),this.checkBreakpoints()),this.buttonEvents(),this.checkButton(),this.addClasses()}}],[{key:"extend",value:function(e){var t={container:"",previous:"",next:"",first:"",last:"",active:1,start:0,left:4,right:4,end:0,gap:[],total:"",link:!0,linkTarget:"",baseUrl:"".concat(location.pathname).concat(location.search),parameter:"pagina",parameterType:"normal",concatenateWith:"-",joinWith:"-",onInit:function(){},onChange:function(){},onComplete:function(){}};for(var n in e)t[n]=e[n];return t}}]),t}(),JetRouter=function(){function t(e){_classCallCheck(this,t),this.config=t.extend(e),this.decode=decodeURIComponent,this.routes={},this.init(),this.config.onInit()}return _createClass(t,[{key:"cleanUp",value:function(e){return~e.indexOf("/?")&&(e=e.replace("/?","?")),"/"==e[0]&&(e=e.slice(1)),"/"==e[e.length-1]&&(e=e.slice(0,-1)),e}},{key:"recurseUrl",value:function(e,t,n,i,o){if(i){if(n>=e.length){var a=i["@"];return a&&{cb:a,params:o.reduce(function(e,t){return e[t[0]]=t[1],e},{})}}var s=t(e[n]),c=o.length;return this.recurseUrl(e,t,n+1,i[s.toLowerCase()],o)||this.recurseNamedUrl(e,t,n+1,i,":",s,o,c)||this.recurseNamedUrl(e,t,e.length,i,"*",e.slice(n).join("/"),o,c)}}},{key:"recurseNamedUrl",value:function(e,t,n,i,o,a,s,c){s.length=c;var r=i[o];return r&&s.push([r["~"],a]),this.recurseUrl(e,t,n,r,s)}},{key:"processQuery",value:function(e,t,n){if(e&&t.cb)for(var i=e.indexOf("#"),o=(i<0?e:e.slice(0,i)).split("&"),a=0;a<o.length;++a){var s=o[a].split("=");t.params[s[0]]=n(s[1])}return t}},{key:"noResult",value:function(e){return e}},{key:"lookup",value:function(e){var t=this.cleanUp(e).split("?"),n=~e.indexOf("%")?this.decode:this.noResult;return t[0].includes("#")&&("/"===(t=t[0].split("#")[0]).slice(-1)&&(t=t.slice(0,-1)),t=[t]),this.processQuery(t[1],this.recurseUrl(t[0].split("/"),n,0,this.routes,[])||{},n)}},{key:"add",value:function(e,t){for(var n=e.split("/"),i=this.routes,o=+("/"===e[0]);o<n.length;++o){var a=n[o],s=":"==a[0]?":":"*"==a[0]?"*":a.toLowerCase(),i=i[s]||(i[s]={});":"!=s&&"*"!=s||(i["~"]=a.slice(1))}i["@"]=t}},{key:"listen",value:function(e,t){var n=this.lookup(e);return(n.cb||this.config.notFound)(e,t,n.params)}},{key:"findLinks",value:function(){return document.querySelectorAll(this.config.link)}},{key:"updateLinks",value:function(){var a=this;"undefined"!=typeof document&&this.findLinks().forEach(function(n){var e=!n.target,t=!n.hasAttribute("data-jetrouter-disabled"),i=!n.hasAttribute("download"),o=n.href.includes(":")&&!n.href.includes("http");!n.hasListener&&e&&t&&i&&!o&&(n.addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=n.getAttribute("href");e.ctrlKey?window.open(n,"_blank"):(a.config.onClick(a,t),a.listen(t))}),n.hasListener=!0)})}},{key:"hash",value:function(){var t,n;history.pushState=(n=history.pushState,function(){var e=n.apply(this,arguments);return window.dispatchEvent(new Event("pushState")),window.dispatchEvent(new Event("locationchange")),e}),history.replaceState=(t=history.replaceState,function(){var e=t.apply(this,arguments);return window.dispatchEvent(new Event("replaceState")),window.dispatchEvent(new Event("locationchange")),e}),this.hashEvent()}},{key:"hashEvent",value:function(){var t=this;window.addEventListener("locationchange",function(){var e=location.hash;e&&setTimeout(function(){return t.config.onHash(e)},250)}),window.dispatchEvent(new Event("locationchange"))}},{key:"init",value:function(){for(var e in this.config.routes)this.add(e,this.config.routes[e]);this.updateLinks(),this.hash()}}],[{key:"extend",value:function(e){var t={link:"a[href]",routes:{},notFound:function(){},onInit:function(){},onClick:function(){},onHash:function(){}};for(var n in e)t[n]=e[n];return t}}]),t}(),JetSearch=function(){function t(e){_classCallCheck(this,t),this.config=t.extend(e),this.parameters=this.config.parameters,this.query=this.config.query,this.alternative=this.config.alternative,this.ignoreStorages="string"==typeof this.config.ignoreStorages?[this.config.ignoreStorages]:this.config.ignoreStorages,this.joinWith=this.config.joinWith,this.windowStorage,this.storage,this.url,this.init(),this.config.onInit()}return _createClass(t,[{key:"storageType",value:function(){"local"===this.config.checkStorage?(this.storage=localStorage,this.windowStorage=window.localStorage):(this.storage=sessionStorage,this.windowStorage=window.sessionStorage)}},{key:"arrayRemove",value:function(e,t){return e.filter(function(e){return e!=t})}},{key:"getParameters",value:function(){var i=this,o=[];return this.parameters&&this.parameters.forEach(function(e){if("object"==_typeof(e))if(Array.isArray(e))e.toString().includes("null")||e.includes(null)||e.includes("")||e.forEach(function(e){o.push(e)});else for(var t in e){var n=e[t];t&&n&&o.push("".concat(t).concat(i.joinWith).concat(n))}else e&&o.push(e)}),o}},{key:"getParametersAuto",value:function(){var i=this,o=[];if("auto"===this.config.mode){for(var e in this.windowStorage)!function(t){var n=i.storage.getItem(t);n&&!t.indexOf(i.config.storagePrefix)&&(i.ignoreStorages?i.ignoreStorages.forEach(function(e){t!==e&&o.push("".concat(t).concat(i.joinWith).concat(n))}):o.push("".concat(t).concat(i.joinWith).concat(n)))}(e)}return o}},{key:"getQueries",value:function(){var e=new URLSearchParams;if(this.query)for(var t=0,n=Object.entries(this.query);t<n.length;t++){var i=_slicedToArray(n[t],2),o=i[0],a=i[1];a&&e.append(o,a)}return e.toString()?"?".concat(e):""}},{key:"getAlternative",value:function(){var a=this,s=[];for(var e in this.alternative){var c=this.alternative[e];for(var t in c)!function(e){var t=c[e];if("object"==_typeof(t))if(Array.isArray(t))t.forEach(function(e){t.toString().includes("null")||t.includes(null)||t.includes("")?s=a.arrayRemove(s,e):s.push(e)});else for(var n in t){var i=t[n],o="".concat(n).concat(a.config.joinWith).concat(i);n&&i?s.push("".concat(n).concat(a.joinWith).concat(i)):s=a.arrayRemove(s,o)}else t?s.push(t):s=a.arrayRemove(s,t)}(t)}return s}},{key:"createUrl",value:function(){var t=[],e=this.getParameters(),n=this.getAlternative(),i=this.getQueries();this.getParametersAuto(),n.length&&(e=n),e.forEach(function(e){t.push(e)});var o=t.join(this.config.concatenateWith);this.config.regex&&(o=this.doRegex(o)),this.url="".concat(this.config.baseUrl).concat(o).concat(this.config.endUrl).concat(i),this.config.lowerCase&&(this.url=this.url.toLowerCase())}},{key:"doRegex",value:function(t){return Array.isArray(this.config.regex[0])?this.config.regex.forEach(function(e){t=t.replace(e[0],e[1])}):t=t.replace(this.config.regex[0],this.config.regex[1]),t}},{key:"getUrl",value:function(){return this.createUrl(),this.url}},{key:"btnClick",value:function(e){this.getUrl(),this.config.onClick(this.url,e)}},{key:"createBtnEvent",value:function(){var t=this;this.config.button&&document.querySelectorAll(this.config.button).forEach(function(e){"A"===e.tagName?e.href=t.getUrl():e.addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),t.btnClick(e.target)},!0)})}},{key:"removeStorage",value:function(e,t,n){var i=sessionStorage,o=window.sessionStorage;if("local"===e&&(i=localStorage,o=window.localStorage),"string"==typeof n&&(n=[n]),"object"==_typeof(t))t.forEach(function(e){(!n||n&&-1===n.indexOf(e))&&i.removeItem(e)});else for(var a in o){var s=-1!==a.indexOf(t),c=n?-1===n.indexOf(a):"";(s&&!n||s&&n&&c)&&i.removeItem(a)}}},{key:"init",value:function(){this.storageType(),this.createUrl(),this.createBtnEvent(),this.config.onComplete(this.url)}}],[{key:"extend",value:function(e){var t={mode:"",button:"",baseUrl:"",parameters:[],alternative:{},endUrl:"",ignoreStorages:"",storagePrefix:"",joinWith:"",concatenateWith:"",lowerCase:!0,regex:[],checkStorage:"session",onInit:function(){},onClick:function(){},onComplete:function(){}};for(var n in e)t[n]=e[n];return t}}]),t}(),JetSelect=function(){function t(e){_classCallCheck(this,t),this.config=t.extend(e),this.elements=document.querySelectorAll(this.config.element),this.names="string"==typeof this.config.name?[this.config.name]:this.config.name,this.optionsText=this.config.optionsText,this.optionsValue=this.config.optionsValue,this.optionsCounter=this.config.counter,this.activeClass="jetselect__item--active",this.valueObject={},this.labelObject={},this.sortMap={},this.selectedOptions=[],this.tabIndex=null,this.baseName,this.titles,this.storage,this.init(),this.config.onInit()}return _createClass(t,[{key:"arrayLowerCase",value:function(t){t.forEach(function(n,e){Array.isArray(n)?n.forEach(function(e,t){isNaN(e)&&(n[t]=e.toLowerCase())}):isNaN(n)&&(t[e]=n.toLowerCase())})}},{key:"setBaseName",value:function(t){var n=t.getAttribute("class");this.config.element.split(",").forEach(function(e){e=e.trim().substr(1),-1<n.indexOf(e)&&(t.dataset.jetselectName=e)}),this.baseName=t.dataset.jetselectName}},{key:"storageType",value:function(){"local"===this.config.storage?this.storage=localStorage:this.storage=sessionStorage}},{key:"storageCheck",value:function(){var n=this;this.names.forEach(function(t){var e;n.storage.getItem(t)&&(e=n.storage.getItem(t).split(","),n.valueObject[t]||(n.valueObject[t]=[]),e.forEach(function(e){e=e.toString().toLowerCase(),n.valueObject[t].push(e)}))})}},{key:"update",value:function(){var n=this;this.storageCheck(),this.names.forEach(function(e){n.storage.getItem(e)||(n.valueObject[e]||(n.valueObject[e]=[]),n.valueObject[e].push(""))}),this.elements.forEach(function(e,t){n.updateSelect(e),n.config.tags&&n.updateTags(e,t)})}},{key:"updateTags",value:function(e,s){var c=this,r=document.createDocumentFragment(),l=this.config.tagsTarget?document.querySelectorAll(this.config.tagsTarget):e.querySelectorAll(".jetselect__label");l.forEach(function(a){for(var e in c.labelObject)c.labelObject[e].forEach(function(e){var t,n='[data-jetselect-id="'.concat(c.config.name,'"][data-jetselect-label="').concat(e,'"]'),i=a.querySelector(n),o=document.querySelector(".".concat(c.baseName,'-item[data-jetselect-text="').concat(e,'"]')).dataset.jetselectValue.split(",");c.config.tagsTarget||(l[0].innerHTML=""),i||(t=c.createTag(e,o,s),r.appendChild(t))});a.appendChild(r)})}},{key:"addTags",value:function(a,s,c){var e,r=this,l=document.createDocumentFragment();this.config.tagsTarget?e=document.querySelectorAll(this.config.tagsTarget):(e=a.querySelectorAll(".jetselect__label"))[0].querySelector(".jetselect__tag")||(e[0].innerHTML=""),e.forEach(function(e){var t,n='[data-jetselect-id="'.concat(r.config.name,'"][data-jetselect-label="').concat(s,'"]'),i=e.querySelector(n),o=a.querySelector('[data-jetselect-text="'.concat(s,'"]')).dataset.jetselectValue.split(",");i||(t=r.createTag(s,o,c),l.appendChild(t),e.appendChild(l))})}},{key:"removeTags",value:function(e,n){var i=this;(this.config.tagsTarget?document.querySelectorAll(this.config.tagsTarget):e.querySelectorAll(".jetselect__label")).forEach(function(e){var t=e.querySelector('[data-jetselect-label="'.concat(n,'"]'));t&&t.parentNode.removeChild(t),i.config.tagsTarget||e.querySelector(".jetselect__tag")||(e.innerHTML=i.config.label)})}},{key:"createTag",value:function(e,t){var n=this,i=document.createElement("span"),o=document.createElement("span"),a=document.createElement("span");return"multiple"===this.config.type&&this.config.name.constructor===Array||(t=t.toString()),i.addEventListener("click",function(e){n.clickTag(t)}),a.className="".concat(this.baseName,"-delete-btn jetselect__delete-btn"),o.className="".concat(this.baseName,"-tag-text jetselect__tag-text"),i.className="".concat(this.baseName,"-tag jetselect__tag"),i.dataset.jetselectId=this.config.name,i.dataset.jetselectLabel=e,o.innerHTML=e,i.appendChild(o),i.appendChild(a),i}},{key:"setLabel",value:function(e){var i=this,t=e.querySelectorAll(".".concat(this.activeClass)),n=e.querySelector(".jetselect__label"),o=this.config.name,a=[];this.labelObject[o]||(this.labelObject[o]=[]),t.forEach(function(e){var t=e.dataset.jetselectText,n=i.labelObject[o].indexOf(t);a.push(t),-1===n&&i.labelObject[o].push(t)}),a[0]?n.innerHTML=a.join(", "):n.innerHTML=this.config.label}},{key:"updateSelect",value:function(e){var n=this,i=this.names.map(function(e){return""}),t=Object.entries(this.valueObject),o={};for(var a in t.forEach(function(e){var t=n.names.indexOf(e[0]);i[t]=e}),i.forEach(function(e,t){e[1].forEach(function(e,t){o[t]||(o[t]=[]),o[t].push(e)})}),o){var s=o[a],c=e.querySelector('[data-jetselect-value="'.concat(s,'"]:not(.jetselect__item--deselect-all)')),r=e.querySelector('[value="'.concat(s,'"]'));c&&(c.classList.add(this.activeClass),c.classList.add("".concat(this.baseName,"-item--active")),r.selected=!0)}this.setLabel(e)}},{key:"createSelect",value:function(e,t){var n=this,i=document.createDocumentFragment(),o=document.createElement("select"),a=document.createElement("div"),s=document.createElement("ul"),c=document.createElement("div"),r=document.createElement("span"),l=document.createElement("span");c.className="".concat(this.baseName,"-btn jetselect__btn"),r.className="".concat(this.baseName,"-label jetselect__label"),r.innerHTML=this.config.label,l.className="".concat(this.baseName,"-icon jetselect__icon"),a.className="".concat(this.baseName,"-box jetselect__box"),s.className="".concat(this.baseName,"-list jetselect__list"),o.className="jetselect__default",this.isMobile()&&this.config.defaultMobile?(o.style.width="100%",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.opacity="0",o.style.zIndex="9"):o.style.display="none","multiple"===this.config.type&&(o.multiple=!0),this.createList({element:e,select:o,list:s,text:this.optionsText,value:this.optionsValue,counter:this.optionsCounter,addIndex:0,index:t}),o.addEventListener("change",this.change),c.appendChild(r),c.appendChild(l),i.appendChild(c),a.appendChild(s),i.appendChild(a),i.appendChild(o),c.addEventListener("click",function(){n.openClose(t)}),window.addEventListener("mousedown",function(e){n.clickInside(t,e)}),window.addEventListener("touchstart",function(e){n.clickInside(t,e)}),this.optionsText.toString()?e.classList.remove("jetselect--disabled"):e.classList.add("jetselect--disabled"),e.classList.add("jetselect"),e.appendChild(i),this.createTotal(e)}},{key:"createList",value:function(n){var i=this,e=n.element.querySelector(".jetselect__option--deselect-all"),t=n.element.querySelector(".jetselect__option--deselect-all");this.config.filter&&this.createSearchInput(n.element,n.list,n.index),!e&&this.config.deselectAll&&this.createOption({element:n.element,select:n.select,list:n.list,itemClass:" jetselect__option--deselect-all",btnClass:" jetselect__item--deselect-all",text:this.config.deselectAll,value:"",addIndex:n.addIndex,index:n.index}),!t&&this.config.selectAll&&"multiple"===this.config.type&&this.createOption({element:n.element,select:n.select,list:n.list,itemClass:" jetselect__option--select-all",btnClass:" jetselect__item--select-all",text:this.config.selectAll,value:"*",addIndex:n.addIndex,index:n.index}),n.text.forEach(function(e,t){i.config.sortTitle&&i.createTitle({select:n.select,list:n.list,text:i.sortMap[t]}),i.createOption({element:n.element,select:n.select,list:n.list,itemClass:"",btnClass:"",text:e,value:i.optionsValue[t],counter:i.optionsCounter,optionIndex:t,addIndex:n.addIndex,index:n.index})})}},{key:"createTitle",value:function(e){var t,n,i,o,a;-1===this.titles.indexOf(e.text)&&(t=document.createElement("optgroup"),n=document.createElement("ul"),i=document.createElement("div"),o=document.createElement("span"),a=document.createElement("span"),this.titles.push(e.text),t.label=e.text,n.className="".concat(this.baseName,"-group jetselect__group"),i.className="".concat(this.baseName,"-title jetselect__title"),o.className="".concat(this.baseName,"-name jetselect__name"),a.className="".concat(this.baseName,"-total jetselect__total"),n.dataset.jetselectTitle=e.text,o.innerHTML=e.text,e.select.appendChild(t),i.appendChild(o),i.appendChild(a),n.appendChild(i),e.list.appendChild(n))}},{key:"createTotal",value:function(e){var o=this;this.config.sortTitle&&this.config.sortTotal&&e.querySelectorAll(".jetselect__group").forEach(function(e){var t=e.querySelector(".jetselect__total"),n=e.querySelectorAll("li"),i=0;n.forEach(function(e){var t;i=o.optionsCounter&&o.optionsCounter.length?(t=e.querySelector(".jetselect__counter"),Number(t.innerHTML)):n.length}),t.innerHTML=i})}},{key:"createOption",value:function(e){var t,n,i=this,o=document.createElement("option"),a=document.createElement("li"),s=document.createElement("a"),c=document.createElement("span"),r=e.select.querySelector('[label="'.concat(this.sortMap[e.optionIndex],'"]')),l=e.list.querySelector('[data-jetselect-title="'.concat(this.sortMap[e.optionIndex],'"]'));a.className="".concat(this.baseName,"-option jetselect__option").concat(e.itemClass),s.className="".concat(this.baseName,"-item jetselect__item").concat(e.btnClass),c.className="".concat(this.baseName,"-text jetselect__text"),s.dataset.jetselectText=e.text,s.dataset.jetselectValue=e.value,o.value=e.value,o.innerHTML=e.text,c.innerHTML=e.text,s.appendChild(c),a.appendChild(s),l?(l.appendChild(a),r.appendChild(o),this.addAtIndex(l,a,e.addIndex),this.addAtIndex(r,o,e.addIndex)):(e.list.appendChild(a),this.addAtIndex(e.list,a,e.addIndex),this.addAtIndex(e.select,o,e.addIndex)),"multiple"===this.config.type&&((t=document.createElement("span")).className="".concat(this.baseName,"-checkbox jetselect__checkbox"),s.insertBefore(t,c)),e.counter&&e.counter.length&&e.counter[e.optionIndex]&&((n=document.createElement("span")).className="".concat(this.baseName,"-counter jetselect__counter"),n.innerHTML=e.counter[e.optionIndex],s.appendChild(n)),s.addEventListener("click",function(){i.clickEvent(e.value,e.index)})}},{key:"addAtIndex",value:function(e,t,n){var i=e.children.length;(n=n||i)>=e.children.length?e.appendChild(t):e.insertBefore(t,e.children[n])}},{key:"add",value:function(o){var a=this;this.optionsText=o.text,this.optionsValue=o.value,this.optionsCounter=o.counter,this.tabIndex=null,o.sort&&(this.titles=[],this.sort(o.sort)),this.elements.forEach(function(e,t){var n=e.querySelector("select"),i=e.querySelector("ul");a.optionsText.toString()?e.classList.remove("jetselect--disabled"):e.classList.add("jetselect--disabled"),a.createList({element:e,select:n,list:i,text:a.optionsText,value:a.arrayLowerCase(a.optionsValue),counter:a.optionsCounter,addIndex:o.addIndex,index:t}),a.createTotal(e)})}},{key:"remove",value:function(t){var r=this;this.elements.forEach(function(e){var s=e.querySelector("select"),c=e.querySelector("ul");t?t.forEach(function(e){var t=c.querySelector('[data-jetselect-text="'.concat(e,'"]')),n=t.dataset.jetselectValue,i=s.querySelector('[value="'.concat(n,'"]')),o=r.optionsText.indexOf(e),a=r.optionsValue.indexOf(n);-1!==o&&(r.optionsText.splice(o,1),r.optionsValue.splice(a,1),i.parentNode.removeChild(i),t.parentNode.removeChild(t))}):(e.classList.add("jetselect--disabled"),r.valueObject={},r.labelObject={},r.sortMap={},r.optionsText=[],r.optionsValue=[],s.innerHTML="",c.innerHTML="")})}},{key:"createSearchInput",value:function(e,t,n){var i=this,o=document.createElement("div"),a=document.createElement("input");o.className="".concat(this.baseName,"-filter jetselect__filter"),a.className="".concat(this.baseName,"-input jetselect__input"),a.type=this.config.filterType,this.config.filterPlaceholder&&(a.placeholder=this.config.filterPlaceholder),a.addEventListener("focus",function(){i.focus(n)}),a.addEventListener("blur",function(){i.blur(n)}),a.addEventListener("keyup",function(e){i.keyUp(n,e)}),this.config.filterTarget&&(t=document.querySelector(this.config.filterTarget)),o.appendChild(a),this.config.filterEmpty&&o.appendChild(this.emptyBtn(a,n)),t.appendChild(o)}},{key:"emptyBtn",value:function(t,n){var i=this,e=document.createElement("a");return e.className="".concat(this.baseName,"-empty-btn jetselect__empty-btn"),e.addEventListener("click",function(e){t.value="",i.manageEmptyBtn("",n),i.manageFilter("",n),i.notFound(n),i.config.onKeyUp()}),e}},{key:"manageEmptyBtn",value:function(e,t){var n=this.elements[t].querySelector(".jetselect__empty-btn");n&&(n.style.display=e?"block":"none")}},{key:"clickInside",value:function(e,t){var n=this.elements[e].contains(t.target);this.elements[e].classList.contains("jetselect--opened")&&!n&&this.close(e)}},{key:"openClose",value:function(e){this.elements[e].classList.contains("jetselect--opened")?this.close(e):this.open(e)}},{key:"open",value:function(e){var t=this.elements[e].querySelector("ul");this.elements[e].classList.add("jetselect--opened"),t.classList.add("jetselect__list--opened"),this.config.onOpen()}},{key:"close",value:function(e){var t=this.elements[e].querySelector("ul"),n=t.querySelector(".jetselect__item--focused");n&&(this.removeFocus(n),this.tabIndex=null),this.elements[e].classList.remove("jetselect--opened"),t.classList.remove("jetselect__list--opened"),t.classList.remove("jetselect__list--opened-top"),this.config.onClose()}},{key:"setStorage",value:function(o){var a,s=this;this.valueObject={},this.storageCheck(),this.names.forEach(function(e,t){s.valueObject[e]||(s.valueObject[e]=[]),a=s.config.name.constructor===Array?o[t]:o;var n,i=s.valueObject[e].indexOf(a);-1===i?s.config.selectionLimit&&s.config.selectionLimit<=s.valueObject[e].length?s.config.onLimit():s.valueObject[e].push(a):(s.elements.forEach(function(e){n=e.querySelector('[data-jetselect-value="'.concat(o,'"]'))}),n.classList.contains(s.activeClass)?s.valueObject[e].splice(i,1):s.valueObject[e].push(a)),s.valueObject[e][0]?s.storage.setItem(e,s.valueObject[e]):s.storage.removeItem(e)})}},{key:"removeStorage",value:function(){var t=this;this.names.forEach(function(e){t.valueObject[e]=[],t.storage.removeItem(e)})}},{key:"validateNumber",value:function(e){var t=this.storage.getItem(this.config.validateTarget),n="<"===this.config.validateOperator&&e<t,i=">"===this.config.validateOperator&&t<e;if(null===t||n||i)return!0}},{key:"change",value:function(){var t=this,e=this.querySelectorAll("option"),n=[];e.forEach(function(e){var t;e.selected&&(t=e.value,n.push(t))});var i=this.selectedOptions.filter(function(e){return n.indexOf(e)<0}),o=n.filter(function(e){return t.selectedOptions.indexOf(e)<0}),a="multiple"!==this.config.type?n.toString():(i.length?i:o)[0];this.selectedOptions=n;var s=this.optionsValue.indexOf(a);this.config.name.constructor===Array&&(a=a.split(",")),i.length||!this.config.selectionLimit||this.config.selectionLimit&&this.selectedOptions.length<=this.config.selectionLimit?this.clickEvent(a,s):this.querySelector("option[value=".concat(a,"]")).selected=!1}},{key:"clickEvent",value:function(e,t){!e||this.validateNumber(e)?("multiple"!==this.config.type&&this.selectOption(e),e&&"*"!==e&&this.setStorage(e),"multiple"===this.config.type&&this.selectOption(e),"multiple"===this.config.type&&e&&"*"!==e||(this.isMobile()||this.config.defaultMobile)&&(this.isMobile()||!this.config.defaultMobile)||this.close(t),e||this.config.onDeselectAll(),"*"===e&&this.config.onSelectAll(),e&&this.config.onChange(this.valueObject)):this.config.onValidateError()}},{key:"checkAll",value:function(a,s){var c=this,e=this.config.tags&&this.config.tagsTarget;this.optionsValue.forEach(function(e,t){var n,i,o;(!c.config.selectionLimit||t<c.config.selectionLimit)&&(n=a.querySelector('[data-jetselect-value="'.concat(e,'"]')),i=a.querySelector('[value="'.concat(e,'"]')),o=n.dataset.jetselectText,n.classList.contains(c.activeClass)&&i.selected||(n.classList.add(c.activeClass),n.classList.add("".concat(c.baseName,"-item--active")),i.selected=!0,c.config.tags&&c.addTags(a,o,s),0===s&&c.setStorage(e)))}),this.config.tags&&!e||this.setLabel(a)}},{key:"uncheckAll",value:function(o){var a=this,e=this.config.tags&&this.config.tagsTarget;this.optionsValue.forEach(function(e){var t,n=o.querySelector('[data-jetselect-value="'.concat(e,'"]')),i=o.querySelector('[value="'.concat(e,'"]'));n&&(t=n.dataset.jetselectText,n.classList.remove(a.activeClass),n.classList.remove("".concat(a.baseName,"-item--active")),i.selected=!1,a.config.tags&&a.removeTags(o,t))}),this.removeStorage(),this.config.tags&&!e||this.setLabel(o)}},{key:"sort",value:function(e){var t=this;this.sortMap=e.map(function(e,t){return{index:t,value:e}}),this.sortMap.sort(function(e,t){return isNaN(e.value)&&isNaN(t.value)?+(e.value>t.value)||(e.value===t.value)-1:e.value-t.value}),this.optionsText=this.sortMap.map(function(e){return t.optionsText[e.index]}),this.optionsValue=this.sortMap.map(function(e){return t.optionsValue[e.index]}),this.optionsCounter&&this.optionsCounter.length&&(this.optionsCounter=this.sortMap.map(function(e){return t.optionsCounter[e.index]})),this.sortMap=this.sortMap.map(function(e){return e[Object.keys(e)[1]]}),"descending"===this.config.sortOrder&&(this.optionsText.reverse(),this.optionsValue.reverse(),this.optionsCounter.reverse(),this.sortMap.reverse())}},{key:"filter",value:function(e,t){for(var n,i,o=t.split(" "),a=0;i=o[a++];){if(!(n=new RegExp(i,"ig")).test(e))return!1;e=e.replace(n,"")}return!0}},{key:"manageFilter",value:function(s,c){var r=this,e=this.elements[c].querySelectorAll("li:not(.jetselect__option--deselect-all):not(.jetselect__option--select-all)"),l="jetselect__option--hidden";e.forEach(function(e,t){var n,i,o,a=r.elements[c].querySelector('[data-jetselect-title="'.concat(r.sortMap[t],'"]'));a&&(n=a.querySelectorAll("li")),s?(i=e.querySelector("a").innerHTML,r.filter(i,s)?(e.classList.remove(l),a&&n[0]&&a.classList.remove(l)):(e.classList.add(l),a&&(o=a.querySelectorAll("li.".concat(l)),n.length===o.length&&a.classList.add(l)))):(e.classList.remove(l),a&&a.classList.remove(l))})}},{key:"selectOption",value:function(l){var u=this;this.elements.forEach(function(e,t){var n=e.querySelector('[data-jetselect-value="'.concat(l,'"]')),i=e.querySelector('[value="'.concat(l,'"]')),o=n.dataset.jetselectText,a=n.classList.contains(u.activeClass)&&"multiple"===u.config.type,s=u.config.tags&&u.config.tagsTarget,c=u.valueObject[Object.keys(u.valueObject)[0]],r=c?c.length:1;"multiple"===u.config.type&&l?"*"===l&&u.checkAll(e,t):u.uncheckAll(e),l&&"*"!==l&&(a?(n.classList.remove(u.activeClass),n.classList.remove("".concat(u.baseName,"-item--active")),i.selected=!1,u.config.tags&&u.removeTags(e,o)):(!u.config.selectionLimit||r<u.config.selectionLimit)&&(n.classList.add(u.activeClass),n.classList.add("".concat(u.baseName,"-item--active")),i.selected=!0,u.config.tags&&u.config.tagsOnChange&&u.addTags(e,o,t))),u.config.tags&&!s||u.setLabel(e)})}},{key:"clickTag",value:function(a){var i,s=this;this.valueObject={},this.storageCheck(),this.names.forEach(function(e,t){s.valueObject[e]||(s.valueObject[e]=[]),i=s.config.name.constructor===Array?a[t]:a;var n=s.valueObject[e].indexOf(i);-1!==n&&s.valueObject[e].splice(n,1),s.storage.setItem(e,s.valueObject[e]),s.storage.getItem(e)||s.storage.removeItem(e)}),this.elements.forEach(function(e,t){var n=e.querySelector('[data-jetselect-value="'.concat(a,'"]')),i=n.dataset.jetselectText,o=s.config.tags&&s.config.tagsTarget;n.classList.remove(s.activeClass),n.classList.remove("".concat(s.baseName,"-item--active")),s.removeTags(e,i),s.config.tags&&!o||s.setLabel(e)}),this.config.onClickTag(a)}},{key:"focus",value:function(e){this.config.filterOpenOnFocus&&this.config.filterTarget&&this.open(e),this.config.onFocus()}},{key:"blur",value:function(e){this.config.filterCloseOnBlur&&this.config.filterTarget&&this.close(e),this.config.onBlur()}},{key:"keyUp",value:function(e,t){var n=t.target.value;this.manageFilter(n,e),this.manageEmptyBtn(n,e),this.notFound(e),this.config.onKeyUp()}},{key:"keyDown",value:function(e,t){var n=this.elements[e].querySelector("ul"),i=n.offsetHeight,o=n.querySelectorAll("li"),a=t.target.value;38===t.keyCode&&(t.preventDefault(),this.keyUpList(o,n,i)),40===t.keyCode&&(t.preventDefault(),this.keyDownList(o,n,i)),13===t.keyCode&&this.keyEnterList(o),this.config.onKeyDown(a)}},{key:"keyUpList",value:function(e,t){this.removeFocus(e[this.tabIndex]),0<this.tabIndex?this.tabIndex--:this.tabIndex=e.length-1,this.addFocus(e[this.tabIndex]),this.scrollUp(e,t)}},{key:"keyDownList",value:function(e,t,n){this.removeFocus(e[this.tabIndex]),null===this.tabIndex||this.tabIndex===e.length-1?this.tabIndex=0:this.tabIndex++,this.addFocus(e[this.tabIndex]),this.scrollDown(e,t,n)}},{key:"keyEnterList",value:function(e){this.tabIndex&&e[this.tabIndex].querySelector("a").click(),this.config.onKeyEnter()}},{key:"scrollUp",value:function(e,t){var n=e[this.tabIndex].offsetTop;t.scrollTop>=n?t.scrollTop=n:this.tabIndex===e.length-1&&(t.scrollTop=t.scrollHeight)}},{key:"scrollDown",value:function(e,t,n){var i=e[this.tabIndex].offsetTop,o=i-n+e[this.tabIndex].offsetHeight;t.scrollTop<=o?t.scrollTop=o:i<t.scrollTop?t.scrollTop=i:0===this.selectedOptions&&(t.scrollTop=0)}},{key:"addFocus",value:function(e){e.classList.add("".concat(this.baseName,"-item--focused")),e.classList.add("jetselect__item--focused")}},{key:"removeFocus",value:function(e){e&&(e.classList.remove("".concat(this.baseName,"-item--focused")),e.classList.remove("jetselect__item--focused"))}},{key:"notFound",value:function(e){var t,n,i=this.elements[e].querySelector("ul"),o="jetselect__option--hidden",a=i.querySelectorAll("li.".concat(o,":not(.jetselect__option--deselect-all):not(.jetselect__option--select-all)")),s=i.querySelector(".jetselect__option--deselect-all"),c=i.querySelector(".jetselect__option--select-all"),r=i.querySelector(".jetselect__not-found");a.length>=this.optionsText.length?(s&&s.classList.add(o),c&&c.classList.add(o),!r&&this.config.filterNotFound&&(t=document.createElement("div"),n=document.createTextNode(this.config.filterNotFound),t.className="jetselect__not-found",t.appendChild(n),i.appendChild(t))):(s&&s.classList.remove(o),c&&c.classList.remove(o),r&&r.parentNode.removeChild(r))}},{key:"destroy",value:function(){this.elements.forEach(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)})}},{key:"isMobile",value:function(){return/Mobi|Android/i.test(navigator.userAgent)}},{key:"init",value:function(){var n=this;this.storageType(),this.config.sortBy[0]&&this.sort(this.config.sortBy),this.arrayLowerCase(this.optionsValue),this.elements.forEach(function(e,t){e.classList.remove("jetselect"),e.classList.remove("jetselect--opened"),e.tabIndex="0",e.innerHTML="",n.titles=[],e.addEventListener("keydown",function(e){n.keyDown(t,e)}),n.setBaseName(e),n.createSelect(e,t)}),this.names.some(function(e){return n.storage.getItem(e)})&&this.update()}}],[{key:"extend",value:function(e){var t={element:"",name:"",type:"",selectionLimit:"",optionsText:[],optionsValue:[],counter:[],deselectAll:"",selectAll:"",label:"",sortBy:[],sortOrder:"ascending",sortTitle:!1,sortTotal:!1,tags:!1,tagsOnChange:!1,tagsTarget:"",filter:!1,filterEmpty:!0,filterTarget:"",filterOpenOnFocus:!0,filterCloseOnBlur:!0,filterPlaceholder:"",filterNotFound:"",filterType:"text",validateOperator:"",validateTarget:"",defaultMobile:!1,storage:"session",onInit:function(){},onOpen:function(){},onClose:function(){},onChange:function(){},onDeselectAll:function(){},onSelectAll:function(){},onKeyUp:function(){},onKeyDown:function(){},onKeyEnter:function(){},onFocus:function(){},onBlur:function(){},onClickTag:function(){},onValidateError:function(){},onLimit:function(){}};for(var n in e)t[n]=e[n];return t}}]),t}(),JetSlider=function(){function n(e){var t=this;_classCallCheck(this,n),this.config=n.extend(e),this.element="string"==typeof this.config.element?document.querySelector(this.config.element):this.config.element,this.prevBtn=this.config.prev&&"string"==typeof this.config.prev?document.querySelector(this.config.prev):this.config.prev,this.nextBtn=this.config.next&&"string"==typeof this.config.next?document.querySelector(this.config.next):this.config.next,this.pagination=this.config.pagination&&"string"==typeof this.config.pagination?document.querySelector(this.config.pagination):this.config.pagination,this.slidesToShow=this.config.slidesToShow,this.slidesToScroll=this.config.slidesToScroll,"string"==typeof this.config.element?this.baseClass=this.config.element.substr(1):this.config.element.className.includes(" ")?this.baseClass=this.config.element.className.split(" ")[0]:this.baseClass=this.config.element.className;if(null===this.element)return!1;this.element.classList.add("jetslider"),this.resolveSlidesToShow(),this.resolveSlidesToScroll(),this.elementWidth=this.element.offsetWidth+this.config.gap,this.innerElements=[].slice.call(this.element.children),this.currentSlideCheck=this.config.startIndex%this.innerElements.length,this.currentSlide=this.config.loop?this.config.startIndex%this.innerElements.length:Math.max(0,Math.min(this.config.startIndex,this.innerElements.length-this.slidesToShow)),["resize","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","keyDown","clickHandler"].forEach(function(e){t[e]=t[e].bind(t)}),this.config.onChange(this.currentSlide+1,this.innerElements.length),this.init()}return _createClass(n,[{key:"attachEvents",value:function(){var e=this;window.addEventListener("resize",this.resize),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.element.addEventListener("touchstart",this.touchstartHandler,{passive:!0}),this.element.addEventListener("touchend",this.touchendHandler),this.element.addEventListener("touchmove",this.touchmoveHandler,{passive:!0}),this.element.addEventListener("mousedown",this.mousedownHandler),this.element.addEventListener("mouseup",this.mouseupHandler),this.element.addEventListener("mouseleave",this.mouseleaveHandler),this.element.addEventListener("mousemove",this.mousemoveHandler),this.element.addEventListener("click",this.clickHandler)),this.config.keyboard&&(this.element.tabIndex="0",this.element.focus(),this.element.addEventListener("keydown",this.keyDown)),this.config.autoplay&&this.config.stopOnOver&&(this.element.addEventListener("mouseover",this.stopAutoplay.bind(this)),this.element.addEventListener("mouseout",this.restartAutoplay.bind(this))),this.prevBtn&&this.prevBtn.addEventListener("click",function(){e.prev(e.slidesToScroll)}),this.nextBtn&&this.nextBtn.addEventListener("click",function(){e.next(e.slidesToScroll)})}},{key:"detachEvents",value:function(){var e=this;window.removeEventListener("resize",this.resize),this.element.removeEventListener("touchstart",this.touchstartHandler,{passive:!0}),this.element.removeEventListener("touchend",this.touchendHandler),this.element.removeEventListener("touchmove",this.touchmoveHandler,{passive:!0}),this.element.removeEventListener("mousedown",this.mousedownHandler),this.element.removeEventListener("mouseup",this.mouseupHandler),this.element.removeEventListener("mouseleave",this.mouseleaveHandler),this.element.removeEventListener("mousemove",this.mousemoveHandler),this.element.removeEventListener("click",this.clickHandler),this.config.keyboard&&this.element.removeEventListener("keydown",this.keyDown),this.config.autoplay&&this.config.stopOnOver&&(this.element.removeEventListener("mouseover",this.stopAutoplay.bind(this)),this.element.removeEventListener("mouseout",this.restartAutoplay.bind(this))),this.prevBtn&&this.prevBtn.removeEventListener("click",function(){e.prev(e.slidesToScroll)}),this.nextBtn&&this.nextBtn.removeEventListener("click",function(){e.next(e.slidesToScroll)})}},{key:"addDots",value:function(){var t=this;this.pagination.classList.add("jetslider__pagination","".concat(this.baseClass,"__pagination"));var e=Math.ceil(this.innerElements.length/this.slidesToScroll);this.pagination.innerHTML="";for(var n=0;n<e;n++){var i=document.createElement("li"),o=document.createElement("button");i.classList.add("jetslider__pagination-item","".concat(this.baseClass,"__pagination-item")),o.classList.add("jetslider__bullet","".concat(this.baseClass,"__bullet")),o.dataset.jetsliderBullet=0===n?n:n*this.slidesToScroll,o.addEventListener("click",function(e){t.goTo(e.target.dataset.jetsliderBullet)}),i.appendChild(o),this.pagination.appendChild(i)}}},{key:"updateDots",value:function(){var i=this,e=this.pagination.querySelectorAll("li"),o=this.element.querySelector(".".concat(this.baseClass,"__item--active"));o||(this.innerElements[0].classList.add("jetslider__item--active","".concat(this.baseClass,"__item--active")),o=this.element.querySelector(".".concat(this.baseClass,"__item--active"))),e.forEach(function(e,t){var n=Number(o.dataset.jetsliderPage)===t?"add":"remove";e.querySelector("button").classList[n]("jetslider__bullet--active","".concat(i.baseClass,"__bullet--active"))})}},{key:"startAutoplay",value:function(){var e=this;this.autoplayIntervalInstace=setInterval(function(){e.pointerDown||e.next(e.slidesToScroll)},this.config.autoplaySpeed)}},{key:"stopAutoplay",value:function(){clearInterval(this.autoplayIntervalInstace)}},{key:"restartAutoplay",value:function(){this.stopAutoplay(),this.config.autoplay&&this.startAutoplay()}},{key:"init",value:function(){this.attachEvents(),this.element.style.overflow="hidden",this.element.style.direction=this.config.rtl?"rtl":"ltr",this.createContainer(),this.updateItens(),this.config.autoplay&&this.startAutoplay(),this.pagination&&(this.addDots(),this.updateDots(),this.pagination.classList.toggle("jetslider__pagination--disabled",this.innerElements.length<=this.slidesToShow)),this.config.onInit.call(this),new IntersectionObserver(this.resize).observe(this.element)}},{key:"createContainer",value:function(){var e=this.elementWidth/this.slidesToShow,t=this.config.loop?this.innerElements.length+2*this.slidesToShow:this.innerElements.length,n=0;this.sliderFrame=document.createElement("div"),this.sliderFrame.classList.add("jetslider__container","".concat(this.baseClass,"__container")),this.sliderFrame.style.width="".concat(e*t,"px"),this.sliderFrame.style.height="100%",this.sliderFrame.style.display="inline-block",this.enableTransition(),this.config.draggable&&(this.element.style.cursor="-webkit-grab");var i=document.createDocumentFragment();if(this.config.loop&&this.innerElements.length>this.slidesToShow)for(var o=this.innerElements.length-this.slidesToShow;o<this.innerElements.length;o++){var a=this.createItem(this.innerElements[o].cloneNode(!0)),s=Math.ceil(this.innerElements.length/this.slidesToScroll);a.setAttribute("data-jetslider-page",s-1),i.appendChild(a)}for(var c=0;c<this.innerElements.length;c++){var r=this.createItem(this.innerElements[c]);c%this.slidesToShow==0&&0!==c&&n++,r.setAttribute("data-jetslider-page",n),i.appendChild(r)}if(this.config.loop&&this.innerElements.length>this.slidesToShow)for(var l=0;l<this.slidesToShow;l++){var u=this.createItem(this.innerElements[l].cloneNode(!0));u.setAttribute("data-jetslider-page",0),i.appendChild(u)}this.sliderFrame.appendChild(i),this.element.innerHTML="",this.element.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"createItem",value:function(e){var t=document.createElement("div"),n="".concat(this.config.loop?100/(this.innerElements.length+2*this.slidesToShow):100/this.innerElements.length,"%");return t.classList.add("jetslider__item","".concat(this.baseClass,"__item")),t.style.cssFloat=this.config.rtl?"right":"left",t.style.float=this.config.rtl?"right":"left",t.style.marginRight="".concat(this.config.gap,"px"),t.style.width="calc(".concat(n," - ").concat(this.config.gap,"px)"),t.appendChild(e),t}},{key:"resolveSlidesToShow",value:function(){if("number"==typeof this.config.slidesToShow)this.slidesToShow=this.config.slidesToShow;else if("object"==_typeof(this.config.slidesToShow))for(var e in this.slidesToShow=1,this.config.slidesToShow)document.documentElement.clientWidth>=e&&(this.slidesToShow=this.config.slidesToShow[e])}},{key:"resolveSlidesToScroll",value:function(){if("number"==typeof this.config.slidesToScroll)this.slidesToScroll=this.config.slidesToScroll;else if("object"==_typeof(this.config.slidesToScroll))for(var e in this.slidesToScroll=1,this.config.slidesToScroll)document.documentElement.clientWidth>=e&&(this.slidesToScroll=this.config.slidesToScroll[e])}},{key:"prev",value:function(e,t){var n,i,o,a,s,c=0<arguments.length&&void 0!==e?e:1,r=1<arguments.length?t:void 0;this.innerElements.length<=this.slidesToShow||(this.restartAutoplay(),n=this.currentSlide,this.config.loop?this.currentSlide-c<0?(this.disableTransition(),o=(i=this.currentSlide+this.innerElements.length)+this.slidesToShow,a=(this.config.rtl?1:-1)*o*(this.elementWidth/this.slidesToShow),s=this.config.draggable?this.drag.endX-this.drag.startX:0,this.sliderFrame.style.transform="translate3d(".concat(a+s,"px, 0, 0)"),this.currentSlide=i-c):this.currentSlide=this.currentSlide-c:this.currentSlide=Math.max(this.currentSlide-c,0),this.currentSlideCheck=this.currentSlide,n!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.updateItens(),this.config.pagination&&this.updateDots(),this.config.onChange(this.currentSlide+1,this.innerElements.length),r&&r.call(this)))}},{key:"next",value:function(e,t){var n,i,o,a,s,c=0<arguments.length&&void 0!==e?e:1,r=1<arguments.length?t:void 0;this.innerElements.length<=this.slidesToShow||(this.restartAutoplay(),n=this.currentSlide,this.config.loop?this.currentSlide+c>this.innerElements.length-this.slidesToShow?(this.disableTransition(),o=(i=this.currentSlide-this.innerElements.length)+this.slidesToShow,a=(this.config.rtl?1:-1)*o*(this.elementWidth/this.slidesToShow),s=this.config.draggable?this.drag.endX-this.drag.startX:0,this.sliderFrame.style.transform="translate3d(".concat(a+s,"px, 0, 0)"),this.currentSlide=i+c):this.currentSlide=this.currentSlide+c:this.currentSlide=Math.min(this.currentSlide+c,this.innerElements.length-this.slidesToShow),this.currentSlideCheck=this.currentSlide,n!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.updateItens(),this.config.pagination&&this.updateDots(),this.config.onChange(this.currentSlide+1,this.innerElements.length),r&&r.call(this)))}},{key:"disableTransition",value:function(){this.sliderFrame.style.transition="transform 0ms ".concat(this.config.easing)}},{key:"enableTransition",value:function(){this.sliderFrame.style.transition="transform ".concat(this.config.speed,"ms ").concat(this.config.easing)}},{key:"goTo",value:function(e,t){var n;this.innerElements.length<=this.slidesToShow||(this.restartAutoplay(),n=this.currentSlide,this.currentSlide=this.config.loop?e%this.innerElements.length:Math.min(Math.max(e,0),this.innerElements.length-this.slidesToShow),this.currentSlideCheck=e%this.innerElements.length,this.updateItens(),n!==this.currentSlide&&(this.slideToCurrent(),this.config.pagination&&this.updateDots(),this.config.onChange(this.currentSlide+1,this.innerElements.length),t&&t.call(this)))}},{key:"updateItens",value:function(){var i=this,e=document.querySelectorAll(".".concat(this.baseClass,"__item")),o=this.currentSlideCheck;this.config.loop&&e.length>this.slidesToShow&&(o+=this.slidesToShow),e.forEach(function(e,t){var n=o===t?"add":"remove";e.classList[n]("jetslider__item--active","".concat(i.baseClass,"__item--active"))})}},{key:"slideToCurrent",value:function(e){var t=this,n=this.config.loop?this.currentSlide+this.slidesToShow:this.currentSlide,i=(this.config.rtl?1:-1)*n*(this.elementWidth/this.slidesToShow);this.innerElements.length>this.slidesToShow?e?requestAnimationFrame(function(){requestAnimationFrame(function(){t.enableTransition(),t.sliderFrame.style.transform="translate3d(".concat(i,"px, 0, 0)")})}):this.sliderFrame.style.transform="translate3d(".concat(i,"px, 0, 0)"):this.sliderFrame.style.transform="translate3d(0, 0, 0)"}},{key:"updateAfterDrag",value:function(){var e=(this.config.rtl?-1:1)*(this.drag.endX-this.drag.startX),t=Math.abs(e),n=this.config.multipleDrag?Math.ceil(t/(this.elementWidth/this.slidesToShow)):1,i=0<e&&this.currentSlide-n<0,o=e<0&&this.currentSlide+n>this.innerElements.length-this.slidesToShow;this.restartAutoplay(),0<e&&t>this.config.threshold&&this.innerElements.length>this.slidesToShow?this.prev(n):e<0&&t>this.config.threshold&&this.innerElements.length>this.slidesToShow&&this.next(n),this.slideToCurrent(i||o)}},{key:"resize",value:function(){this.resolveSlidesToShow(),this.resolveSlidesToScroll(),this.currentSlide+this.slidesToShow>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.slidesToShow?0:this.innerElements.length-this.slidesToShow,this.currentSlideCheck=this.currentSlide),this.elementWidth=this.element.offsetWidth+this.config.gap,this.elementWidth,this.slidesToShow,this.config.loop?(this.innerElements.length,this.slidesToShow):this.innerElements.length,this.createContainer(),this.slideToCurrent(),this.updateItens(),this.pagination&&(this.addDots(),this.updateDots(),this.pagination.classList.toggle("jetslider__pagination--disabled",this.innerElements.length<=this.slidesToShow)),this.config.onResize.call(this)}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}}},{key:"touchstartHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY)}},{key:"touchendHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(e){var t,n,i;e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo&&(e.preventDefault(),this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.transition="transform 0ms ".concat(this.config.easing),this.innerElements.length>this.slidesToShow?(t=(this.config.loop?this.currentSlide+this.slidesToShow:this.currentSlide)*(this.elementWidth/this.slidesToShow),n=this.drag.endX-this.drag.startX,i=this.config.rtl?t+n:t-n,this.sliderFrame.style.transform="translate3d(".concat((this.config.rtl?1:-1)*i,"px, 0, 0)")):this.sliderFrame.style.transform="(0, 0, 0)")}},{key:"mousedownHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX)}},{key:"mouseupHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.element.style.cursor="-webkit-grab",this.innerElements.forEach(function(e){e.style.pointerEvents=""}),this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(e){var t,n,i;e.preventDefault(),this.pointerDown&&(this.drag.preventClick=!0,e.pageX!==this.drag.startX&&this.innerElements.forEach(function(e){e.style.pointerEvents="none"}),this.drag.endX=e.pageX,this.element.style.cursor="-webkit-grabbing",this.sliderFrame.style.transition="transform 0ms ".concat(this.config.easing),this.innerElements.length>this.slidesToShow?(t=(this.config.loop?this.currentSlide+this.slidesToShow:this.currentSlide)*(this.elementWidth/this.slidesToShow),n=this.drag.endX-this.drag.startX,i=this.config.rtl?t+n:t-n,this.sliderFrame.style.transform="translate3d(".concat((this.config.rtl?1:-1)*i,"px, 0, 0)")):this.sliderFrame.style.transform="translate3d(0, 0, 0)")}},{key:"mouseleaveHandler",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.element.style.cursor="-webkit-grab",this.drag.endX=e.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag(),this.innerElements.forEach(function(e){e.style.pointerEvents=""}))}},{key:"keyDown",value:function(e){switch(e.keyCode){case 37:this.prev(this.slidesToShow);break;case 39:this.next(this.slidesToShow)}this.config.onKeyDown(e.keyCode)}},{key:"clickHandler",value:function(e){this.drag.preventClick&&e.preventDefault(),this.drag.preventClick=!1}},{key:"remove",value:function(e,t){(e<0||e>=this.innerElements.length)&&console.error("Item to remove doesn't exist 😭");var n=e<this.currentSlide,i=this.currentSlide+this.slidesToShow-1===e;(n||i)&&this.currentSlide--,this.innerElements.splice(e,1),this.createContainer(),t&&t.call(this)}},{key:"insert",value:function(e,t,n){(t<0||t>this.innerElements.length+1)&&console.error("Unable to inset it at this index 😭"),-1!==this.innerElements.indexOf(e)&&console.error("The same item in a slider? Really? Nope 😭");var i=0<(t<=this.currentSlide)&&this.innerElements.length;this.currentSlide=i?this.currentSlide+1:this.currentSlide,this.innerElements.splice(t,0,e),this.createContainer(),n&&n.call(this)}},{key:"prepend",value:function(e,t){this.insert(e,0),t&&t.call(this)}},{key:"append",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this)}},{key:"destroy",value:function(e,t){var n,i=0<arguments.length&&void 0!==e&&e,o=1<arguments.length?t:void 0;this.detachEvents(),this.element.style.cursor="auto",i&&(n=document.createDocumentFragment(),this.innerElements.forEach(function(e){n.appendChild(e)}),this.element.innerHTML="",this.element.appendChild(n),this.element.removeAttribute("style")),o&&o.call(this)}}],[{key:"extend",value:function(e){var t={element:"",prev:"",next:"",speed:450,easing:"ease",slidesToShow:1,slidesToScroll:1,startIndex:0,gap:0,draggable:!0,multipleDrag:!0,threshold:20,keyboard:!1,loop:!1,rtl:!1,autoplay:!1,autoplaySpeed:5e3,stopOnOver:!0,pagination:"",onInit:function(){},onChange:function(){},onKeyDown:function(){},onResize:function(){}};for(var n in e)t[n]=e[n];return t}}]),n}(),Launch=function(){function e(){_classCallCheck(this,e),this.panorama,this.map,this.photoCounter=document.querySelector(".launch__photo-counter"),this.videoCounter=document.querySelector(".launch__video-counter"),this.init()}return _createClass(e,[{key:"photoGallery",value:function(){var t=this;this.photo=new JetSlider({element:".launch__photo",prev:".launch__photo-prev",next:".launch__photo-next",slidesToShow:1,slidesToScroll:1,speed:650,gap:30,momentum:!0,weight:100,loop:!0,onChange:function(e){t.photoCounter.innerHTML=e,t.photoThumb&&t.photoThumb.goTo(e-1)}})}},{key:"videoGallery",value:function(){var t=this;this.video=new JetSlider({element:".launch__video",prev:".launch__video-prev",next:".launch__video-next",slidesToShow:1,slidesToScroll:1,speed:650,gap:30,momentum:!0,weight:100,loop:!0,onChange:function(e){t.videoCounter.innerHTML=e,t.videoThumb&&t.videoThumb.goTo(e-1)}})}},{key:"photoGalleryThumb",value:function(){var e=this;this.photoThumb=new JetSlider({element:".launch__photo-thumb",prev:".launch__photo-thumb-prev",next:".launch__photo-thumb-next",slidesToShow:{568:3,821:5,1081:7,1341:9,1601:12},slidesToScroll:{568:1},speed:650,gap:30,momentum:!0,weight:100,onResize:function(){return e.photoThumbClick()},onComplete:function(){return e.photoThumbClick()}})}},{key:"videoGalleryThumb",value:function(){var e=this;this.videoThumb=new JetSlider({element:".launch__video-thumb",prev:".launch__video-thumb-prev",next:".launch__video-thumb-next",slidesToShow:{568:3,821:5,1081:7,1341:9,1601:12},slidesToScroll:{568:1},speed:650,gap:30,momentum:!0,weight:100,onResize:function(){return e.videoThumbClick()},onComplete:function(){return e.videoThumbClick()}})}},{key:"photoThumbClick",value:function(){var n=this;document.querySelectorAll(".launch__photo-thumb__item").forEach(function(e,t){e.addEventListener("click",function(){n.photo.goTo(t),n.photoThumb.goTo(t)})})}},{key:"videoThumbClick",value:function(){var n=this;document.querySelectorAll(".launch__video-thumb__item").forEach(function(e,t){e.addEventListener("click",function(){n.video.goTo(t),n.videoThumb.goTo(t)})})}},{key:"expandBtn",value:function(){var t=this;document.querySelectorAll(".launch__gallery-expand").forEach(function(e){e.addEventListener("click",function(){setTimeout(function(){t.photo.resize(),t.photoThumb.resize()})})})}},{key:"photoBtn",value:function(){var e=document.querySelector(".launch__gallery-photo"),t=document.querySelector(".launch__gallery-video"),n=document.querySelector(".launch__photo-box"),i=document.querySelector(".launch__video-box"),o=document.querySelector(".launch__photo-thumb-box"),a=document.querySelector(".launch__video-thumb-box");e&&e.classList.add("active"),e&&e.addEventListener("click",function(){e&&e.classList.add("active"),t&&t.classList.remove("active"),n.classList.remove("active"),i.classList.remove("active"),o.classList.remove("active"),a.classList.remove("active")})}},{key:"videoBtn",value:function(){var e=document.querySelector(".launch__gallery-photo"),t=document.querySelector(".launch__gallery-video"),n=document.querySelector(".launch__photo-box"),i=document.querySelector(".launch__video-box"),o=document.querySelector(".launch__photo-thumb-box"),a=document.querySelector(".launch__video-thumb-box");t&&t.addEventListener("click",function(){e&&e.classList.remove("active"),t&&t.classList.add("active"),n.classList.add("active"),i.classList.add("active"),o.classList.add("active"),a.classList.add("active")})}},{key:"unity",value:function(){return new JetSlider({element:".unity",prev:".unity__prev",next:".unity__next",slidesToShow:{0:1,568:2,821:3,1081:4},slidesToScroll:{0:1,568:2,821:3,1081:4},speed:650,gap:30,momentum:!0,weight:100,loop:!1,autoplay:!1,autoplaySpeed:5e3,stopOnOver:!0,pagination:".unity__pagination"})}},{key:"img",value:function(){document.querySelectorAll(".unity__hover").forEach(function(e){var t=e.querySelector(".unity__box");if(t&&0<t.children.length){var n=e.querySelector(".unity__photo-prev"),i=e.querySelector(".unity__photo-next"),o=e.querySelector(".unity__photo-bullets");return new JetSlider({element:t,speed:650,draggable:!1,prev:n,next:i,pagination:o})}})}},{key:"init",value:function(){window.scrollTo(0,0),this.photoGallery(),this.videoGallery(),this.photoGalleryThumb(),this.videoGalleryThumb(),this.expandBtn(),this.photoBtn(),this.videoBtn(),this.unity(),this.img()}}]),e}(),List=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"closeSearch",value:function(){var e=document.querySelector("#jetwindow-search");document.querySelector(".search__btn").addEventListener("click",function(){e.checked=!1})}},{key:"pagination",value:function(){var e=document.querySelector(".ui__pagination-box");e&&new JetPagination({container:".ui__pagination",previous:".ui__pagination-previous",next:".ui__pagination-next",active:sessionStorage.getItem("pagina"),total:e.dataset.total,left:{568:2,0:1},right:{568:2,0:1},onComplete:function(){return router.updateLinks()}})}},{key:"mapButton",value:function(){var e=document.querySelector(".list__map-btn");e&&e.addEventListener("click",this.mapButtonHandler.bind(this))}},{key:"mapButtonHandler",value:function(){var e=document.querySelector(".list");this.map?(e.classList.toggle("list--map-opened"),this.checkMapButton(e)):this.loadScript(["css/leaflet.min.css","js/leaflet.min.js"],this.createMap.bind(this))}},{key:"checkMapButton",value:function(t){setTimeout(function(){document.querySelectorAll(".list__map-btn-text").forEach(function(e){t.classList.contains("list--map-opened")?e.innerHTML="Fechar mapa":e.innerHTML="Imóveis no mapa"})},100)}},{key:"loadScript",value:function(e,t){var n=this,i=e.map(function(e){return n.createTag(e)});Promise.all(i).then(t)}},{key:"createTag",value:function(s){return new Promise(function(e){var t=s.split(".").pop(),n="js"===t?"script":"link",i="js"===t?"src":"href",o=document.createElement(n),a=document.querySelector("".concat(n,"[").concat(i,'="').concat(s,'"]'));a&&a.remove(),o[i]=s,"css"===t&&(o.rel="stylesheet"),document.body.appendChild(o),o.onload=function(){return e(s)}})}},{key:"createMap",value:function(){var t=this,e=document.querySelector(".list"),n=this.data.map(function(e){return[e.lat,e.lng]});this.map=L.map("map"),this.createTile(),this.data.forEach(function(e){return t.createMarker(e,t.createIcon())}),e.classList.add("list--map-opened"),this.checkMapButton(e),this.removeHashLink(),setTimeout(function(){return t.map.fitBounds(n)},1e3),router.updateLinks()}},{key:"updateMap",value:function(){var e=document.querySelector(".list");this.checkMapButton(e),e.classList.contains("list--map-opened")&&this.createMap()}},{key:"getMapData",value:function(){var e=document.querySelectorAll(".list__map-infos");this.data=_toConsumableArray(e).map(function(e){return JSON.parse(e.value)})}},{key:"createTile",value:function(){L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(this.map)}},{key:"createMarker",value:function(e,t){var n=this;L.marker([e.lat,e.lng],{icon:t}).addTo(this.map).bindPopup(this.createPopUp(e)).on("click",function(){setTimeout(function(){n.removeHashLink(),router.updateLinks()})})}},{key:"createIcon",value:function(){return L.icon({iconUrl:"svg/marker.svg",iconSize:[40,40],iconAnchor:[20,20]})}},{key:"createPopUp",value:function(e){return'<a href="'.concat(e.url,'">\n            <img class="list__map-img" src="').concat(e.img,'" width="150" height="50">\n            <div class="list__map-content">\n                ').concat(e.referencia,'\n                <strong class="list__map-type">').concat(e.tipoimovel,"</strong>\n                ").concat(e.tipoendereco,". ").concat(e.endereco,"<br>\n                ").concat(e.bairro," - ").concat(e.cidade,"/").concat(e.estado,'\n                <div class="list__map-price">\n                    ').concat(e.valorVenda?"Venda: <strong>R$ ".concat(e.valorVenda.toLocaleString("pt-BR",{minimumFractionDigits:2}),"</strong>"):"","\n                    ").concat(e.valorLocacao?"Locação: <strong>R$ ".concat(e.valorLocacao.toLocaleString("pt-BR",{minimumFractionDigits:2}),"</strong>"):"","\n                </div>\n                ").concat(0<e.areaTotal?'<div class="list__map-feature">\n                        <span class="list__map-feature-icon"><img src="svg/area.svg"></span>\n                        '.concat(e.areaTotal.toLocaleString("pt-BR"),"m² total\n                    </div>"):"","\n                ").concat(0<e.areaUtil?'<div class="list__map-feature">\n                        <span class="list__map-feature-icon"><img src="svg/area.svg"></span>\n                        '.concat(e.areaUtil.toLocaleString("pt-BR"),"m² útil\n                    </div>"):"","\n                ").concat(0<e.banheiro?'<div class="list__map-feature">\n                        <span class="list__map-feature-icon"><img src="svg/bathroom.svg"></span>\n                        '.concat(e.banheiro," banheiro(s)\n                    </div>"):"","\n                ").concat(0<e.vaga?'<div class="list__map-feature">\n                        <span class="list__map-feature-icon"><img src="svg/garage.svg"></span>\n                        '.concat(e.vaga," vaga(s)\n                    </div>"):"","\n                ").concat(0<e.quarto?'<div class="list__map-feature">\n                        <span class="list__map-feature-icon"><img src="svg/bedroom.svg"></span>\n                        '.concat(e.quarto," quarto(s)\n                    </div>"):"","\n            </div>\n        </a>")}},{key:"removeHashLink",value:function(){document.querySelectorAll(".list__map a[href]").forEach(function(e){e.href.includes("#")&&e.removeAttribute("href")})}},{key:"closeMap",value:function(){var e=this,t=document.querySelector(".list__map-close"),n=document.querySelector(".list");t.addEventListener("click",function(){n.classList.remove("list--map-opened"),e.checkMapButton(n)})}},{key:"noResult",value:function(){document.querySelector(".list__no-result")&&new JetSlider({element:".list__no-result",prev:".list__no-result-prev",next:".list__no-result-next",slidesToShow:{0:1,568:2,821:3,1081:4},slidesToScroll:{0:1,568:2,821:3,1081:4},speed:650,gap:30,pagination:".list__no-result-pagination"})}},{key:"init",value:function(){router.updateLinks(),new Search,this.closeSearch(),this.pagination(),this.getMapData(),this.updateMap(),this.mapButton(),this.closeMap(),this.noResult()}}]),e}(),List2=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"closeSearch",value:function(){var e=document.querySelector("#jetwindow-search");document.querySelector(".search__btn").addEventListener("click",function(){e.checked=!1})}},{key:"pagination",value:function(){var e=document.querySelector(".ui__pagination-box");e&&new JetPagination({container:".ui__pagination",previous:".ui__pagination-previous",next:".ui__pagination-next",active:sessionStorage.getItem("pagina"),total:e.dataset.total,left:{568:2,0:1},right:{568:2,0:1},onComplete:function(){return router.updateLinks()}})}},{key:"mapButton",value:function(){var e=document.querySelector(".list__map-btn");e&&e.addEventListener("click",this.mapButtonHandler.bind(this))}},{key:"mapButtonHandler",value:function(){var n=this,i=document.querySelector(".list");this.map?(i.classList.toggle("list--map-opened"),this.checkMapButton(i)):this.loadScript(["css/leaflet.min.css","js/leaflet.min.js"],function(){var e=sessionStorage.getItem("filtro.tipodivulgacao"),t=sessionStorage.getItem("map-".concat(e));i.classList.add("list--map-opened"),t?(n.data=JSON.parse(t),n.createMap()):n.loadData()})}},{key:"checkMapButton",value:function(t){setTimeout(function(){document.querySelectorAll(".list__map-btn-text").forEach(function(e){t.classList.contains("list--map-opened")?e.innerHTML="Fechar mapa":e.innerHTML="Imóveis no mapa"})},100)}},{key:"loadScript",value:function(e,t){var n=this,i=e.map(function(e){return n.createTag(e)});Promise.all(i).then(t)}},{key:"createTag",value:function(s){return new Promise(function(e){var t=s.split(".").pop(),n="js"===t?"script":"link",i="js"===t?"src":"href",o=document.createElement(n),a=document.querySelector("".concat(n,"[").concat(i,'="').concat(s,'"]'));a&&a.remove(),o[i]=s,"css"===t&&(o.rel="stylesheet"),document.body.appendChild(o),o.onload=function(){return e(s)}})}},{key:"createMap",value:function(){var t=this,e=document.querySelector(".list"),n=this.data.map(function(e){return[e.lat,e.lng]});this.map=L.map("map");this.loadScript(["js/leaflet.markercluster.min.js"],function(){t.clusters=L.markerClusterGroup({chunkedLoading:!0}),t.createTile(),t.data.forEach(function(e){return t.createMarker(e,t.createIcon(e.tipoImovelPadrao))}),t.map.addLayer(t.clusters),t.checkMapButton(e),t.removeHashLink(),setTimeout(function(){return t.map.fitBounds(n)},1e3),router.updateLinks()})}},{key:"updateMap",value:function(){var e=document.querySelector(".list");this.checkMapButton(e),e.classList.contains("list--map-opened")&&this.createMap()}},{key:"loadData",value:function(){var n=this;new JetLoader({url:"".concat(config.imoveisBaseUrl,"?filtro.").concat(config.tipoCliente,"id=").concat(config.id,"&filtro.tipodivulgacao=").concat(sessionStorage.getItem("filtro.tipodivulgacao"),"&pagina=1&maximo=999999"),onSuccess:function(e){var t=sessionStorage.getItem("filtro.tipodivulgacao");n.getMapData(e),sessionStorage.setItem("map-".concat(t),JSON.stringify(n.data)),n.createMap()}})}},{key:"getMapData",value:function(e){var t=e.data.buscaImovelId,n=e.data.resultado;for(var i in this.data=[],n){var o=n[i],a=this.cleanUrl(o.tipoImovelDescricao),s=o.imovelQuartos?"-".concat(o.imovelQuartos,"-quartos"):"",c=o.imovelEnderecoBairro?"-".concat(this.cleanUrl(o.imovelEnderecoBairro)):"",r=o.imovelEnderecoCidade?"-".concat(this.cleanUrl(o.imovelEnderecoCidade)):"",l=o.imovelVagas?"-com-garagem":"",u=o.imovelAreaUtil?"-".concat(Math.floor(o.imovelAreaUtil),"m2"):"",h=o.imovelValorVenda,d=o.imovelValorAluguel-o.imovelValorMultaDesconto,f="-venda-locacao-rs-".concat(h,"-rs-").concat(d);o.imovelVenda&&!o.imovelLocacao?f="-venda-rs-".concat(h):!o.imovelVenda&&o.imovelLocacao&&(f="-locacao-rs-".concat(d));var g="".concat(config.pageImovel,"/").concat(a).concat(s).concat(c).concat(r).concat(l).concat(u).concat(f,"?id=").concat(o.clienteId,"&ref=").concat(o.imovelReferencia,"&search=").concat(t),p={referencia:o.imovelReferencia,img:o.urlFotoPrincipalMedia,tipoimovel:o.tipoImovelDescricao,tipoImovelPadrao:o.tipoImovelPadrao,tipoendereco:o.imovelTipoEndereco,endereco:o.imovelEndereco,estado:o.imovelEnderecoEstado,cidade:o.imovelEnderecoCidade,bairro:o.imovelEnderecoBairro,banheiro:o.imovelBanheiros||0,quarto:o.imovelQuartos,vaga:2<o.imovelVagas?o.imovelVagas-2:0,areaTotal:o.imovelAreaTotal,areaUtil:o.imovelAreaUtil,valorVenda:o.imovelVenda?o.imovelValorVenda:"",valorLocacao:o.imovelLocacao?o.imovelValorAluguel-o.imovelValorMultaDesconto:"",lat:o.imovelEnderecoLatitude,lng:o.imovelEnderecoLongitude,url:g};this.data.push(p)}}},{key:"cleanUrl",value:function(e){return e=(e=(e=e.replace(/[`~!@#$%^&*()_|+\-=?;:'",<>\{\}\[\]\\\/]/gi," ")).replace(/\s+/g,"-")).toLowerCase()}},{key:"createTile",value:function(){L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(this.map)}},{key:"createMarker",value:function(e,t){var n=this;this.clusters.addLayer(L.marker([e.lat,e.lng],{icon:t}).bindPopup(this.createPopUp(e)).on("click",function(){setTimeout(function(){n.removeHashLink(),router.updateLinks()})}))}},{key:"createIcon",value:function(e){return L.icon({iconUrl:"svg/".concat(e,".svg"),iconSize:[40,40],iconAnchor:[20,20]})}},{key:"createPopUp",value:function(e){return'<a href="'.concat(e.url,'">\n            <img class="list__map-img" src="').concat(e.img,'" width="150" height="50">\n            <div class="list__map-content">\n                ').concat(e.referencia,'\n                <strong class="list__map-type">').concat(e.tipoimovel,"</strong>\n                ").concat(e.tipoendereco,". ").concat(e.endereco,"<br>\n                ").concat(e.bairro," - ").concat(e.cidade,"/").concat(e.estado,'\n                <div class="list__map-price">\n                    ').concat(e.valorVenda?"Venda: <strong>R$ ".concat(e.valorVenda.toLocaleString("pt-BR",{minimumFractionDigits:2}),"</strong>"):"","\n                    ").concat(e.valorLocacao?"Locação: <strong>R$ ".concat(e.valorLocacao.toLocaleString("pt-BR",{minimumFractionDigits:2}),"</strong>"):"","\n                </div>\n                ").concat(0<e.areaTotal?'<div class="list__map-feature">\n                        <span class="list__map-feature-icon"><img src="svg/area.svg"></span>\n                        '.concat(e.areaTotal.toLocaleString("pt-BR"),"m² total\n                    </div>"):"","\n                ").concat(0<e.areaUtil?'<div class="list__map-feature">\n                        <span class="list__map-feature-icon"><img src="svg/area.svg"></span>\n                        '.concat(e.areaUtil.toLocaleString("pt-BR"),"m² útil\n                    </div>"):"","\n                ").concat(0<e.banheiro?'<div class="list__map-feature">\n                        <span class="list__map-feature-icon"><img src="svg/bathroom.svg"></span>\n                        '.concat(e.banheiro," banheiro(s)\n                    </div>"):"","\n                ").concat(0<e.vaga?'<div class="list__map-feature">\n                        <span class="list__map-feature-icon"><img src="svg/garage.svg"></span>\n                        '.concat(e.vaga," vaga(s)\n                    </div>"):"","\n                ").concat(0<e.quarto?'<div class="list__map-feature">\n                        <span class="list__map-feature-icon"><img src="svg/bedroom.svg"></span>\n                        '.concat(e.quarto," quarto(s)\n                    </div>"):"","\n            </div>\n        </a>")}},{key:"removeHashLink",value:function(){document.querySelectorAll(".list__map a[href]").forEach(function(e){e.href.includes("#")&&e.removeAttribute("href")})}},{key:"closeMap",value:function(){var e=this,t=document.querySelector(".list__map-close"),n=document.querySelector(".list");t.addEventListener("click",function(){n.classList.remove("list--map-opened"),e.checkMapButton(n)})}},{key:"noResult",value:function(){document.querySelector(".list__no-result")&&new JetSlider({element:".list__no-result",prev:".list__no-result-prev",next:".list__no-result-next",slidesToShow:{0:1,568:2,821:3,1081:4},slidesToScroll:{0:1,568:2,821:3,1081:4},speed:650,gap:30,pagination:".list__no-result-pagination"})}},{key:"init",value:function(){router.updateLinks(),new Search,this.closeSearch(),this.pagination(),this.updateMap(),this.mapButton(),this.closeMap(),this.noResult()}}]),e}(),Main=function(){function n(e,t){_classCallCheck(this,n),this.init(e,t)}return _createClass(n,[{key:"setStorage",value:function(e){for(var t in sessionStorage.setItem("maximo",config.imoveisPagina),sessionStorage.getItem("filtro.tipodivulgacao")||sessionStorage.setItem("filtro.tipodivulgacao",config.imovelpara),e){var n;e[t]?(n=e[t],sessionStorage.setItem(t,n)):sessionStorage.removeItem(t)}}},{key:"setClasses",value:function(e){global.root&&(e=e.split(global.root)[1]),e="/"===e?"index":e.split("/").join("-").substring(1).split(".")[0],document.body.className="body__".concat(e)}},{key:"asideAnimation",value:function(){var t=this;document.querySelector("html").classList.contains("jetbrowser__desktop")&&document.querySelectorAll("[data-depth]").forEach(function(e){window.addEventListener("mousemove",t.mouseMoveHandler.bind(t,e),{passive:!0})})}},{key:"mouseMoveHandler",value:function(e){var t=e.dataset.depth,n=-(event.clientX-window.innerWidth/2)/t;e.style.transform="translateX(".concat(n,"%)")}},{key:"visited",value:function(){var e=document.querySelectorAll(".ui__card-link"),n=window.location.host,t=window.location.pathname;localStorage.setItem("visited-".concat(t),!0),e.forEach(function(e){var t=localStorage.getItem("visited-".concat(e.pathname));e.host===n&&t&&(e.dataset.visited=!0)})}},{key:"lgpd",value:function(){var e=document.querySelector(".lgpd__input"),t=document.querySelector(".lgpd__close"),n=localStorage.getItem("lgpd");t.addEventListener("click",function(){return localStorage.setItem("lgpd",!0)}),e.checked=!n}},{key:"init",value:function(e,t){this.setStorage(parameters),this.setClasses(e),this.asideAnimation(),this.visited(),this.lgpd(),new Navigation(t),new Favorite,new Form}}]),n}(),Navigation=function(){function t(e){_classCallCheck(this,t),this.init(e)}return _createClass(t,[{key:"selectButton",value:function(e){e=e.replace(/(\?.*)/g,"");var o=this.getPath(e);this.deselectButton(),o.forEach(function(e,t){e===global.root&&1===o.length&&(e="".concat(e,"/"));var n,i=document.querySelectorAll('nav [href="'.concat(e,'"]'));0===t&&e!=="".concat(global.root,"/")&&(n=e.substring(e.lastIndexOf("/")+1).split("-")[0],e=e.substring(0,e.lastIndexOf("/")),e="".concat(e,"/").concat(n),i=document.querySelectorAll('nav [href^="'.concat(e,'"]'))),i.forEach(function(e){return e.classList.add("active")})}),this.closeNav()}},{key:"getPath",value:function(e){var t=e.split("/").reduce(function(e,t){return""!==t&&e&&e.push(t),e},[]).reduce(function(e,t,n,i){return e.push("/".concat(i.slice(0,i.length-n).join("/"))),e},[]);return"/"===e&&(t=["/"]),t}},{key:"deselectButton",value:function(){document.querySelectorAll(".nav__btn, .footer__btn").forEach(function(e){e.classList.remove("active")})}},{key:"closeNav",value:function(){document.querySelector("#jetwindow-nav").checked=!1}},{key:"init",value:function(e){this.selectButton(e)}}]),t}(),Page=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"setMetas",value:function(e){var t=document.querySelectorAll('meta[name*="title"]'),n=document.querySelectorAll('meta[name*="description"], meta[itemprop*="description"]'),i=document.querySelectorAll('meta[name*="keywords"]'),o=document.querySelectorAll('meta[name*="image"], meta[itemprop*="image"]'),a=document.querySelectorAll('meta[name="robots"]'),s=document.querySelectorAll('meta[name*="url"]'),c=document.querySelector('[rel="canonical"]'),r=[[t,e.title],[n,e.description],[i,e.keywords],[o,e.image],[a,e.robots],[s,e.url]];document.title=e.title,c.setAttribute("href",e.url),r.forEach(function(t){t[0].forEach(function(e){e.setAttribute("content",t[1])})})}},{key:"addPreloader",value:function(e){var t=this,n=document.querySelector(".ui__preloader");this.finishAnimation=!1,n.classList.add("ui__preloader--in"),e(),setTimeout(function(){t.finishAnimation=!0},700)}},{key:"removePreloader",value:function(e){var t=this,n=document.querySelector(".ui__preloader"),i=setInterval(function(){t.finishAnimation&&(t.finishAnimation=!1,n.classList.add("ui__preloader--out"),clearInterval(i),e(),setTimeout(function(){n.classList.remove("ui__preloader--in","ui__preloader--out")},700))},10)}},{key:"load",value:function(e,t,n){this.lastPage?this.addPreloader(this.ajaxLoad.bind(this,e,t,n)):this.init(e,t,n)}},{key:"ajaxLoad",value:function(t,n,i){var o=this,e=new FormData;e.append("url",n),new JetLoader({url:t,method:"post",header:{"X-Requested-With":"XMLHttpRequest"},body:e,onSuccess:function(e){e=JSON.parse(e),config=e.config,parameters=e.parameters,o.setMetas(e.seo),o.removePreloader(o.render.bind(o,t,n,e.content,i))}})}},{key:"render",value:function(e,t,n,i){e!==this.lastPage?this.pageRender(n):this.templateRender(n),this.setState(t),this.goToTop(),this.init(e,t,i)}},{key:"pageRender",value:function(e){document.querySelector(".container").innerHTML=e}},{key:"templateRender",value:function(e){var t=document.createDocumentFragment(),n=document.createElement("div");n.innerHTML=e,t.appendChild(n);var i=t.querySelectorAll("[data-template]"),o=document.querySelectorAll("[data-template]");i.forEach(function(e,t){o[t].innerHTML=e.innerHTML})}},{key:"setState",value:function(e,t){history.state===e||this.pop||history.pushState({url:e,title:t},t,e)}},{key:"goToTop",value:function(){this.pop||window.scrollTo(0,0)}},{key:"init",value:function(e,t,n){new Main(e,t),n&&n(),this.pop=!1,this.lastPage=e,router.updateLinks()}}]),e}(),Release=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"pagination",value:function(){var e=document.querySelector(".ui__pagination-box");e&&new JetPagination({container:".ui__pagination",previous:".ui__pagination-previous",next:".ui__pagination-next",active:e.dataset.page,total:e.dataset.total,left:{568:2,0:1},right:{568:2,0:1},concatenateWith:"/",onComplete:function(){return router.updateLinks()}})}},{key:"init",value:function(){this.pagination()}}]),e}(),Search=function(){function i(e){var t;return _classCallCheck(this,i),(t=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,config.pageImoveis))).init(),t}return _inherits(i,Filters),_createClass(i,[{key:"imovelpara",value:function(){var e=this;new JetSelect({element:".search__type",name:["filtro.tipodivulgacao"],optionsText:["Comprar","Alugar"],optionsValue:["v","l"],label:"Selecione",tags:!0,tagsTarget:".list__tags",onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",e).call(e)},onChange:function(){_get(_getPrototypeOf(i.prototype),"removeStorage",e).call(e),_get(_getPrototypeOf(i.prototype),"createFilters",e).call(e,e.filters.bind(e)),e.referenciaFilter.empty(),e.enderecoFilter.empty(),_get(_getPrototypeOf(i.prototype),"createPath",e).call(e)}})}},{key:"tipoimovel",value:function(e){var t=this;new JetSelect({element:".search__property",name:"filtro.tiposimoveis",optionsText:e.tipoImovelDescricao,optionsValue:e.tipoImovelDescricao,type:"multiple",deselectAll:"Limpar seleção",label:"Selecione",tags:!0,tagsTarget:".list__tags",onDeselectAll:function(){return _get(_getPrototypeOf(i.prototype),"createPath",t).call(t)},onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",t).call(t)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",t).call(t)}})}},{key:"valorMinimo",value:function(){var e,t=this,n="v"===sessionStorage.getItem("filtro.tipodivulgacao")?(e=["De R$ 50.000","De R$ 100.000","De R$ 150.000","De R$ 200.000","De R$ 250.000","De R$ 300.000","De R$ 400.000","De R$ 500.000","De R$ 600.000","De R$ 700.000","De R$ 800.000","De R$ 900.000","De R$ 1.000.000"],[5e4,1e5,15e4,2e5,25e4,3e5,4e5,5e5,6e5,7e5,8e5,9e5,1e6]):(e=["Até R$ 400","Até R$ 800","Até R$ 1.000","Até R$ 1500","Até R$ 2.000","Até R$ 3.000","Até R$ 4.000","Até R$ 5.000","Até R$ 6.000","Até R$ 7.000","Até R$ 8.000","Até R$ 9.000","Até R$ 10.000","Até R$ 15.000"],[400,800,1e3,1500,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,15e3]);new JetSelect({element:".search__min-price",name:"filtro.valorminimo",optionsText:e,optionsValue:n,deselectAll:"Limpar seleção",label:"Selecione",onDeselectAll:function(){return _get(_getPrototypeOf(i.prototype),"createPath",t).call(t)},onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",t).call(t)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",t).call(t)}})}},{key:"valorMaximo",value:function(){var e,t=this,n="v"===sessionStorage.getItem("filtro.tipodivulgacao")?(e=["Até R$ 100.000","Até R$ 150.000","Até R$ 200.000","Até R$ 300.000","Até R$ 400.000","Até R$ 600.000","Até R$ 800.000","Até R$ 1.000.000","Até R$ 1.500.000","Até R$ 2.000.000","Até R$ 3.000.000","Acima de R$ 3.000.000"],[1e5,15e4,2e5,3e5,4e5,6e5,8e5,1e6,15e5,2e6,3e6,999999999999]):(e=["Até R$ 400","Até R$ 800","Até R$ 1.000","Até R$ 1500","Até R$ 2.000","Até R$ 3.000","Até R$ 4.000","Até R$ 5.000","Até R$ 6.000","Até R$ 7.000","Até R$ 8.000","Até R$ 9.000","Até R$ 10.000","Até R$ 15.000","Acima de R$ 15.000"],[400,800,1e3,1500,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,15e3,99999999]);new JetSelect({element:".search__max-price",name:"filtro.valormaximo",optionsText:e,optionsValue:n,deselectAll:"Limpar seleção",label:"Selecione",onDeselectAll:function(){return _get(_getPrototypeOf(i.prototype),"createPath",t).call(t)},onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",t).call(t)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",t).call(t)}})}},{key:"cidade",value:function(e){var t=this;new JetSelect({element:".search__city",name:"filtro.cidade",optionsText:e.cidadeNome,optionsValue:e.cidadeNome,type:"multiple",deselectAll:"Limpar seleção",label:"Selecione",tags:!0,tagsTarget:".list__tags",onDeselectAll:function(){_get(_getPrototypeOf(i.prototype),"createFilters",t).call(t,t.filters.bind(t)),_get(_getPrototypeOf(i.prototype),"createPath",t).call(t)},onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",t).call(t)},onChange:function(){t.bairroFilter.removeStorage(),_get(_getPrototypeOf(i.prototype),"createFilters",t).call(t,t.filters.bind(t)),_get(_getPrototypeOf(i.prototype),"createPath",t).call(t)}})}},{key:"bairro",value:function(e){var t=this;this.bairroFilter||(this.bairroFilter=new JetSelect({element:".search__neighborhood",name:"filtro.bairro",type:"multiple",deselectAll:"Limpar seleção",label:"Selecione",sortTitle:!0,tags:!0,tagsTarget:".list__tags",onDeselectAll:function(){return _get(_getPrototypeOf(i.prototype),"createPath",t).call(t)},onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",t).call(t)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",t).call(t)}})),_get(_getPrototypeOf(i.prototype),"addData",this).call(this,{filter:this.bairroFilter,text:e.bairroNome,value:e.bairroNome,sort:e.bairroCidade})}},{key:"regiao",value:function(e){var t=this;new JetSelect({element:".search__region",name:"filtro.regiaocidade",optionsText:e.opcoes[0].split(";"),optionsValue:e.valor,deselectAll:"Limpar seleção",label:"Selecione",tags:!0,tagsTarget:".list__tags",onDeselectAll:function(){return _get(_getPrototypeOf(i.prototype),"createPath",t).call(t)},onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",t).call(t)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",t).call(t)}})}},{key:"quarto",value:function(){var e=this;new JetSelect({element:".search__bedroom",name:["filtro.quarto","filtro.quartoini"],optionsText:["1","2","3","4+"],optionsValue:[["1",null],["2",null],["3",null],[null,"4"]],deselectAll:"Limpar seleção",label:"Selecione",tags:!0,tagsOnChange:!1,tagsTarget:".list__tags",onDeselectAll:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)},onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",e).call(e)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)}})}},{key:"garagem",value:function(){var e=this;new JetSelect({element:".search__garage",name:["filtro.vagagaragem","filtro.vagaini"],optionsText:["Sim","Não","1","2","3","4+"],optionsValue:[["1",null],["2",null],["3",null],["4",null],["5",null],[null,"6"]],deselectAll:"Limpar seleção",label:"Selecione",tags:!0,tagsOnChange:!1,tagsTarget:".list__tags",onDeselectAll:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)},onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",e).call(e)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)}})}},{key:"areaMinima",value:function(){var e=this;new JetSelect({element:".search__min-area",name:"filtro.areatotalminima",optionsText:["De 60m²","De 100m²","De 200m²","De 300m²","De 400m²","De 500m²","De 600m²","De 700m²","De 800m²","De 900m²","De 1.000m²","De 2.000m²","De 3.000m²","De 4.000m²","De 5.000m²","De 10.000m²","De 20.000m²","De 30.000m²","De 40.000m²","De 50.000m²","De 100.000m²"],optionsValue:[60,100,200,300,400,500,600,700,800,900,1e3,2e3,3e3,4e3,5e3,1e4,2e4,3e4,4e4,5e4,1e5],deselectAll:"Limpar seleção",label:"Selecione",tags:!0,tagsTarget:".list__tags",onDeselectAll:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)},onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",e).call(e)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)}})}},{key:"areaMaxima",value:function(){var e=this;new JetSelect({element:".search__max-area",name:"filtro.areatotalmaxima",optionsText:["Até 100m²","Até 200m²","Até 300m²","Até 400m²","Até 500m²","Até 600m²","Até 700m²","Até 800m²","Até 900m²","Até 1.000m²","Até 2.000m²","Até 3.000m²","Até 4.000m²","Até 5.000m²","Até 10.000m²","Até 20.000m²","Até 30.000m²","Até 40.000m²","Até 50.000m²","Até 100.000m²","Acima de 100.000m²"],optionsValue:[100,200,300,400,500,600,700,800,900,1e3,2e3,3e3,4e3,5e3,1e4,2e4,3e4,4e4,5e4,1e5,9999999999],deselectAll:"Limpar seleção",label:"Selecione",tags:!0,tagsTarget:".list__tags",onDeselectAll:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)},onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",e).call(e)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)}})}},{key:"mobiliado",value:function(){var e=this;new JetCheckbox({element:".search__furnished",name:"filtro.mobiliado",optionsText:["Mobiliado"],optionsValue:["1"],tags:!0,tagsOnChange:!1,tagsTarget:".list__tags",onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",e).call(e)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)}})}},{key:"condominio",value:function(){var e=this;new JetCheckbox({element:".search__condominium",name:"filtro.condominio",optionsText:["Condomínio"],optionsValue:["1"],tags:!0,tagsOnChange:!1,tagsTarget:".list__tags",onClickTag:function(){return _get(_getPrototypeOf(i.prototype),"search",e).call(e)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)}})}},{key:"referencia",value:function(){var e=this;this.referenciaFilter=new JetInput({element:".search__reference",name:"filtro.referencia",placeholder:"Digite a referência do imóvel",tags:!0,tagsTarget:".list__tags",onClickTag:function(){sessionStorage.setItem("filtro.tipodivulgacao",config.imovelpara),_get(_getPrototypeOf(i.prototype),"search",e).call(e)},onKeyUp:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)},onPaste:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)},onEmpty:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)}})}},{key:"endereco",value:function(){var e=this;this.enderecoFilter=new JetInput({element:".search__address",name:"filtro.endereco",placeholder:"Digite o nome da rua",tags:!0,tagsTarget:".list__tags",onClickTag:function(){sessionStorage.setItem("filtro.tipodivulgacao",config.imovelpara),_get(_getPrototypeOf(i.prototype),"search",e).call(e)},onKeyUp:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)},onPaste:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)},onEmpty:function(){return _get(_getPrototypeOf(i.prototype),"createPath",e).call(e)}})}},{key:"ordenar",value:function(){var e=this;new JetSelect({element:".list__order",name:["ordenacao","ascdesc"],optionsText:["Maior preço","Menor preço","Maior área total","Menor área total"],optionsValue:[["imovelvalor","desc"],["imovelvalor","asc"],["imovelareatotal","desc"],["imovelareatotal","asc"]],deselectAll:"Limpar seleção",label:"Selecione",onDeselectAll:function(){return _get(_getPrototypeOf(i.prototype),"search",e).call(e)},onChange:function(){return _get(_getPrototypeOf(i.prototype),"search",e).call(e)}})}},{key:"filters",value:function(e){this.imovelpara(),this.tipoimovel(e.searchtipoimoveis),this.valorMinimo(),this.valorMaximo(),this.cidade(e.searchcidades),this.bairro(e.searchbairros),this.regiao(e.searchregioescidades),this.quarto(),this.garagem(),this.areaMinima(),this.areaMaxima(),this.mobiliado(),this.condominio(),this.referencia(),this.endereco(),this.ordenar()}},{key:"init",value:function(){_get(_getPrototypeOf(i.prototype),"createFilters",this).call(this,this.filters.bind(this)),_get(_getPrototypeOf(i.prototype),"createPath",this).call(this)}}]),i}();